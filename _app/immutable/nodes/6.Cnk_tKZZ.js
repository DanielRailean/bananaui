import{s as j,d as p,i as I,b as m,l as f,m as C,c as $,e as y,g as L,f as k,h as v,j as S,t as D,k as E,o as M}from"../chunks/scheduler.BW_prjnM.js";import{S as T,i as U,d as V,t as q,a as z,m as B,b as O,e as G}from"../chunks/index.DqtSejiW.js";import{s as P}from"../chunks/config.BwFBzPqz.js";import{u as H,c as R}from"../chunks/stores.CLU7hCux.js";import{d as A}from"../chunks/util.DvLSJRPy.js";import{B as F}from"../chunks/Button.Bfrb0_w9.js";import{l as J}from"../chunks/favicon.C4Xm7W-s.js";function K(i){let o;return{c(){o=D("SSO Login")},l(e){o=k(e,"SSO Login")},m(e,a){I(e,o,a)},d(e){e&&p(o)}}}function N(i){let o,e,a,s,_,h,c,t=P.name+"",d,g,n,x;return n=new F({props:{class:"my-10 h-16 text-xl mx-auto",color:"green",$$slots:{default:[K]},$$scope:{ctx:i}}}),n.$on("click",i[0]),{c(){o=v("div"),e=v("div"),a=v("div"),s=v("img"),h=S(),c=v("h1"),d=D(t),g=S(),G(n.$$.fragment),this.h()},l(r){o=$(r,"DIV",{class:!0});var l=y(o);e=$(l,"DIV",{class:!0});var u=y(e);a=$(u,"DIV",{class:!0});var w=y(a);s=$(w,"IMG",{class:!0,src:!0,alt:!0}),h=L(w),c=$(w,"H1",{class:!0});var b=y(c);d=k(b,t),b.forEach(p),w.forEach(p),g=L(u),O(n.$$.fragment,u),u.forEach(p),l.forEach(p),this.h()},h(){f(s,"class","h-16 w-16 mr-4"),C(s.src,_=J)||f(s,"src",_),f(s,"alt","bananaui logo"),f(c,"class","text-5xl font-medium"),f(a,"class","flex flex-row mx-auto items-center"),f(e,"class","flex flex-col items-center w-full"),f(o,"class","flex items-center justify-center h-[80vh] w-full my-auto")},m(r,l){I(r,o,l),m(o,e),m(e,a),m(a,s),m(a,h),m(a,c),m(c,d),m(e,g),B(n,e,null),x=!0},p(r,[l]){const u={};l&32&&(u.$$scope={dirty:l,ctx:r}),n.$set(u)},i(r){x||(z(n.$$.fragment,r),x=!0)},o(r){q(n.$$.fragment,r),x=!1},d(r){r&&p(o),V(n)}}}function Q(i,o,e){let a,s;E(i,H,t=>e(2,a=t)),E(i,R,t=>e(3,s=t));let _="";function h(){const t=s==null?void 0:s.config.oidc;if(!t)throw alert("config not loaded"),new Error("no config loaded");return`${t.authorizeEndpoint}?client_id=${t.clientId}&redirect_uri=${t.selfUrl}&scope=${t.scope}&response_type=${t.responseType}&response_mode=${t.response_mode}&state=${_}&nonce=o2rp8ze2jrh`}function c(){window.location.assign(h())}return M(async()=>{var n;const t=new URLSearchParams(window.location.search),d=t.get("source"),g=t.get("auto");d&&(_=d),((n=s==null?void 0:s.config.oidc)!=null&&n.autoLogin||g==="true")&&(await A(P.autoLoginDelayMs),a||c())}),[c]}class se extends T{constructor(o){super(),U(this,o,Q,N,j,{})}}export{se as component};
