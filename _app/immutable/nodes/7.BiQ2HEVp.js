import{s as l,k as f,o as g}from"../chunks/scheduler.DtmLzn2i.js";import{S as b,i as d}from"../chunks/index.CMaRIr4Q.js";import{u as k,D as S}from"../chunks/stores.iwHf9bzr.js";import{g as t,b as h}from"../chunks/entry.CneEcUK4.js";import{p as u}from"../chunks/stores.DhaKs1XD.js";function w(s,o,m){let e;f(s,u,a=>m(1,e=a));let n=!1;return u.subscribe(a=>{if(!n)return;const r=new URLSearchParams(window.location.search),i=r.get("id_token"),c=r.get("state");if(i)if(k.set({token:i,expires:S.now().plus({minutes:55}).toUnixInteger()}),c){const p=atob(c);t(p)}else t(`${h}/`)}),g(()=>{n=!0,e.url.toString().includes("callback#")&&t(e.url.toString().replace("#","?"))}),[]}class D extends b{constructor(o){super(),d(this,o,w,null,l,{})}}export{D as component};
