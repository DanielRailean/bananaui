import{s as Y,e as h,a as y,c as v,b as E,q,g as O,f as C,p as b,i as V,h as f,F as H,B as Q,k as U,o as W,t as K,d as M,n as X}from"../chunks/scheduler.BQDiRXjc.js";import{S as Z,i as tt,c as N,a as J,m as A,t as I,b as F,d as P}from"../chunks/index.B1KEy29g.js";import{g as et,b as at}from"../chunks/entry.DiKLPHNf.js";import{d as st,L as R}from"../chunks/util.cKKlGT0C.js";import{F as nt,P as ot}from"../chunks/PaletteOutline.BOaH9-kt.js";import{i as rt,c as j,a as B}from"../chunks/stores.DxlP-Spi.js";import{B as z}from"../chunks/Button.DwvgVUeI.js";function lt(i){let e,a,s;return e=new nt({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),a=K(`

				save`)},l(t){J(e.$$.fragment,t),a=M(t,`

				save`)},m(t,n){A(e,t,n),V(t,a,n),s=!0},p:X,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){F(e.$$.fragment,t),s=!1},d(t){t&&C(a),P(e,t)}}}function it(i){let e,a,s;return e=new ot({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),a=K(`
				format and validate JSON`)},l(t){J(e.$$.fragment,t),a=M(t,`
				format and validate JSON`)},m(t,n){A(e,t,n),V(t,a,n),s=!0},p:X,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){F(e.$$.fragment,t),s=!1},d(t){t&&C(a),P(e,t)}}}function ct(i){let e,a,s,t="Settings",n,g,k="you can change the settings here, if running in static mode.",S,$,r="the settings are saved in the browser's Local storage",x,u,p,T,d,D,m,w,L,G;return p=new z({props:{class:"",$$slots:{default:[lt]},$$scope:{ctx:i}}}),p.$on("click",i[2]),d=new z({props:{class:"ml-3",color:"blue",$$slots:{default:[it]},$$scope:{ctx:i}}}),d.$on("click",i[1]),{c(){e=h("div"),a=h("div"),s=h("h2"),s.textContent=t,n=y(),g=h("p"),g.textContent=k,S=y(),$=h("p"),$.textContent=r,x=y(),u=h("div"),N(p.$$.fragment),T=y(),N(d.$$.fragment),D=y(),m=h("textarea"),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=E(e);a=v(l,"DIV",{class:!0});var c=E(a);s=v(c,"H2",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1x96icy"&&(s.textContent=t),n=O(c),g=v(c,"P",{"data-svelte-h":!0}),q(g)!=="svelte-1j3brun"&&(g.textContent=k),S=O(c),$=v(c,"P",{"data-svelte-h":!0}),q($)!=="svelte-tmlbzb"&&($.textContent=r),x=O(c),u=v(c,"DIV",{class:!0});var _=E(u);J(p.$$.fragment,_),T=O(_),J(d.$$.fragment,_),_.forEach(C),c.forEach(C),D=O(l),m=v(l,"TEXTAREA",{class:!0,name:!0,id:!0}),E(m).forEach(C),l.forEach(C),this.h()},h(){b(s,"class","text-2xl"),b(u,"class","mt-2"),b(a,"class","my-5"),b(m,"class","w-full min-h-72 dark:bg-slate-900"),b(m,"name",""),b(m,"id",""),b(e,"class","mx-4 mb-3")},m(o,l){V(o,e,l),f(e,a),f(a,s),f(a,n),f(a,g),f(a,S),f(a,$),f(a,x),f(a,u),A(p,u,null),f(u,T),A(d,u,null),f(e,D),f(e,m),H(m,i[0]),w=!0,L||(G=Q(m,"input",i[3]),L=!0)},p(o,[l]){const c={};l&128&&(c.$$scope={dirty:l,ctx:o}),p.$set(c);const _={};l&128&&(_.$$scope={dirty:l,ctx:o}),d.$set(_),l&1&&H(m,o[0])},i(o){w||(I(p.$$.fragment,o),I(d.$$.fragment,o),w=!0)},o(o){F(p.$$.fragment,o),F(d.$$.fragment,o),w=!1},d(o){o&&C(e),P(p),P(d),L=!1,G()}}}function ft(i,e,a){let s;U(i,j,r=>a(4,s=r));const t={auth:{enabled:!1},kongApi:{endpoint:"http://localhost:8001",requestHeaders:{"header-key":"header-value"}}};let n="";W(async()=>{for(;s===void 0;)await st(50);if(s&&s.source=="remote"){et(at);return}const r=localStorage.getItem(R);r?a(0,n=r):(rt("loaded a config template!"),a(0,n=JSON.stringify(t,void 0,2)))});function g(r){let x;try{x=JSON.parse(r)}catch(u){B({message:`Failed to parse JSON. ${u.message}`});return}return B({message:"ok",type:"info"}),JSON.stringify(x,void 0,2)}function k(){const r=g(n);r&&a(0,n=r)}function S(){localStorage.setItem(R,n),j.set({config:JSON.parse(n),source:"local"}),B({message:"config successfully created!",type:"info"})}function $(){n=this.value,a(0,n)}return[n,k,S,$]}class ht extends Z{constructor(e){super(),tt(this,e,ft,ct,Y,{})}}export{ht as component};
