import{s as M,e as $,a as L,t as P,c as v,b as y,g as E,d as k,f as _,l as u,m as S,i as D,h as f,k as I,o as T}from"../chunks/scheduler.COIS6eYE.js";import{S as U,i as V,c as j,a as q,m as z,t as B,b as G,d as H}from"../chunks/index.e2hCl6E0.js";import{s as C}from"../chunks/config.DgbcnDvX.js";import{u as R,c as A}from"../chunks/stores.BvYz139z.js";import{d as F}from"../chunks/util.C36Z39_g.js";import{B as J}from"../chunks/Button.CaK02vgf.js";import{l as K}from"../chunks/favicon.C4Xm7W-s.js";function N(i){let t;return{c(){t=P("Login")},l(e){t=k(e,"Login")},m(e,a){D(e,t,a)},d(e){e&&_(t)}}}function O(i){let t,e,a,o,h,g,r,s=C.name+"",d,p,c,x;return c=new J({props:{class:"my-10 w-24 mx-auto",color:"green",$$slots:{default:[N]},$$scope:{ctx:i}}}),c.$on("click",i[0]),{c(){t=$("div"),e=$("div"),a=$("div"),o=$("img"),g=L(),r=$("h1"),d=P(s),p=L(),j(c.$$.fragment),this.h()},l(n){t=v(n,"DIV",{class:!0});var l=y(t);e=v(l,"DIV",{class:!0});var m=y(e);a=v(m,"DIV",{class:!0});var w=y(a);o=v(w,"IMG",{class:!0,src:!0,alt:!0}),g=E(w),r=v(w,"H1",{class:!0});var b=y(r);d=k(b,s),b.forEach(_),w.forEach(_),p=E(m),q(c.$$.fragment,m),m.forEach(_),l.forEach(_),this.h()},h(){u(o,"class","h-16 w-16 mr-4"),S(o.src,h=K)||u(o,"src",h),u(o,"alt","bananaui logo"),u(r,"class","text-5xl font-medium"),u(a,"class","flex flex-row mx-auto items-center"),u(e,"class","flex flex-col h-[200px] w-[500px] my-auto"),u(t,"class","flex items-center justify-center h-full w-full")},m(n,l){D(n,t,l),f(t,e),f(e,a),f(a,o),f(a,g),f(a,r),f(r,d),f(e,p),z(c,e,null),x=!0},p(n,[l]){const m={};l&32&&(m.$$scope={dirty:l,ctx:n}),c.$set(m)},i(n){x||(B(c.$$.fragment,n),x=!0)},o(n){G(c.$$.fragment,n),x=!1},d(n){n&&_(t),H(c)}}}function Q(i,t,e){let a,o;I(i,R,s=>e(2,a=s)),I(i,A,s=>e(3,o=s));let h="";function g(){const s=o==null?void 0:o.config.oidc;if(!s)throw alert("config not loaded"),new Error("no config loaded");return`${s.authorizeEndpoint}?client_id=${s.clientId}&redirect_uri=${s.selfUrl}&scope=${s.scope}&response_type=${s.responseType}&response_mode=${s.response_mode}&state=${h}&nonce=o2rp8ze2jrh`}function r(){window.location.assign(g())}return T(async()=>{var p;const d=new URLSearchParams(window.location.search).get("source");d&&(h=d),(p=o==null?void 0:o.config.oidc)!=null&&p.autoLogin&&(await F(C.autoLoginDelayMs),a||r())}),[r]}class se extends U{constructor(t){super(),V(this,t,Q,O,M,{})}}export{se as component};
