import{s as Q,d as C,v as G,i as q,b as c,p as U,l as h,c as v,e as E,w as V,g as y,h as b,j as O,k as W,o as Z,n as M,f as X,t as Y}from"../chunks/scheduler.BW_prjnM.js";import{S as tt,i as et,d as N,t as J,a as A,m as I,b as P,e as T}from"../chunks/index.DqtSejiW.js";import{g as st,b as at}from"../chunks/entry.DQnLyZFe.js";import{L as H,d as nt}from"../chunks/util.CfCL6LGJ.js";import{F as ot,P as rt}from"../chunks/PaletteOutline.Cr23MoA9.js";import{a as j,i as R}from"../chunks/toastStore.TnT92aLV.js";import{B as z}from"../chunks/Button.BKog11Ie.js";import{c as K}from"../chunks/stores.D9edJeCo.js";function lt(i){let e,s,a;return e=new ot({props:{class:"mr-1"}}),{c(){T(e.$$.fragment),s=Y(`

				save`)},l(t){P(e.$$.fragment,t),s=X(t,`

				save`)},m(t,n){I(e,t,n),q(t,s,n),a=!0},p:M,i(t){a||(A(e.$$.fragment,t),a=!0)},o(t){J(e.$$.fragment,t),a=!1},d(t){t&&C(s),N(e,t)}}}function it(i){let e,s,a;return e=new rt({props:{class:"mr-1"}}),{c(){T(e.$$.fragment),s=Y(`
				format and validate JSON`)},l(t){P(e.$$.fragment,t),s=X(t,`
				format and validate JSON`)},m(t,n){I(e,t,n),q(t,s,n),a=!0},p:M,i(t){a||(A(e.$$.fragment,t),a=!0)},o(t){J(e.$$.fragment,t),a=!1},d(t){t&&C(s),N(e,t)}}}function ft(i){let e,s,a,t="Settings",n,g,w="you can change the settings here, if running in static mode.",S,$,r="the settings are saved in the browser's Local storage",x,u,p,D,d,F,m,k,L,B;return p=new z({props:{class:"",$$slots:{default:[lt]},$$scope:{ctx:i}}}),p.$on("click",i[2]),d=new z({props:{class:"ml-3",color:"blue",$$slots:{default:[it]},$$scope:{ctx:i}}}),d.$on("click",i[1]),{c(){e=b("div"),s=b("div"),a=b("h2"),a.textContent=t,n=O(),g=b("p"),g.textContent=w,S=O(),$=b("p"),$.textContent=r,x=O(),u=b("div"),T(p.$$.fragment),D=O(),T(d.$$.fragment),F=O(),m=b("textarea"),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=E(e);s=v(l,"DIV",{class:!0});var f=E(s);a=v(f,"H2",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1x96icy"&&(a.textContent=t),n=y(f),g=v(f,"P",{"data-svelte-h":!0}),V(g)!=="svelte-1j3brun"&&(g.textContent=w),S=y(f),$=v(f,"P",{"data-svelte-h":!0}),V($)!=="svelte-tmlbzb"&&($.textContent=r),x=y(f),u=v(f,"DIV",{class:!0});var _=E(u);P(p.$$.fragment,_),D=y(_),P(d.$$.fragment,_),_.forEach(C),f.forEach(C),F=y(l),m=v(l,"TEXTAREA",{class:!0,name:!0,id:!0}),E(m).forEach(C),l.forEach(C),this.h()},h(){h(a,"class","text-2xl"),h(u,"class","mt-2"),h(s,"class","my-5"),h(m,"class","w-full min-h-96 rounded-lg dark:bg-stone-900"),h(m,"name",""),h(m,"id",""),h(e,"class","mx-4 mb-3")},m(o,l){q(o,e,l),c(e,s),c(s,a),c(s,n),c(s,g),c(s,S),c(s,$),c(s,x),c(s,u),I(p,u,null),c(u,D),I(d,u,null),c(e,F),c(e,m),G(m,i[0]),k=!0,L||(B=U(m,"input",i[3]),L=!0)},p(o,[l]){const f={};l&128&&(f.$$scope={dirty:l,ctx:o}),p.$set(f);const _={};l&128&&(_.$$scope={dirty:l,ctx:o}),d.$set(_),l&1&&G(m,o[0])},i(o){k||(A(p.$$.fragment,o),A(d.$$.fragment,o),k=!0)},o(o){J(p.$$.fragment,o),J(d.$$.fragment,o),k=!1},d(o){o&&C(e),N(p),N(d),L=!1,B()}}}function ct(i,e,s){let a;W(i,K,r=>s(4,a=r));const t={kongApi:{endpoint:"http://localhost:8001",requestHeaders:{"header-key":"header-value"}}};let n="";Z(async()=>{for(;a===void 0;)await nt(50);if(a&&a.source==="remote"){R("settings not available if a remote config is present!"),st(`${at}/`);return}const r=localStorage.getItem(H);r?s(0,n=r):(R("loaded a config template!"),s(0,n=JSON.stringify(t,void 0,2)))});function g(r){let x;try{x=JSON.parse(r)}catch(u){j({message:`Failed to parse JSON. ${u.message}`});return}return j({message:"ok",type:"info"}),JSON.stringify(x,void 0,2)}function w(){const r=g(n);r&&s(0,n=r)}function S(){localStorage.setItem(H,n),K.set({config:JSON.parse(n),source:"local"}),j({message:"config successfully created!",type:"info"})}function $(){n=this.value,s(0,n)}return[n,w,S,$]}class vt extends tt{constructor(e){super(),et(this,e,ct,ft,Q,{})}}export{vt as component};
