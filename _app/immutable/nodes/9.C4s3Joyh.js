import{s as Q,e as h,a as y,c as v,b as E,p as q,g as O,f as C,l as b,i as B,h as f,q as H,u as U,k as W,o as Z,t as M,d as X,n as Y}from"../chunks/scheduler.JoI2qTf6.js";import{S as tt,i as et,c as N,a as J,m as A,t as I,b as P,d as T}from"../chunks/index.n1M6Kr9c.js";import{g as st,b as at}from"../chunks/entry.Cz0haAYs.js";import{d as nt,L as R}from"../chunks/util.BWOeR5ma.js";import{F as ot,P as rt}from"../chunks/PaletteOutline.CtJjFd-a.js";import{c as j,i as z,a as V}from"../chunks/stores.CYcGuEJh.js";import{B as K}from"../chunks/Button.BCx1Alcb.js";function lt(i){let e,s,a;return e=new ot({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),s=M(`

				save`)},l(t){J(e.$$.fragment,t),s=X(t,`

				save`)},m(t,n){A(e,t,n),B(t,s,n),a=!0},p:Y,i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){P(e.$$.fragment,t),a=!1},d(t){t&&C(s),T(e,t)}}}function it(i){let e,s,a;return e=new rt({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),s=M(`
				format and validate JSON`)},l(t){J(e.$$.fragment,t),s=X(t,`
				format and validate JSON`)},m(t,n){A(e,t,n),B(t,s,n),a=!0},p:Y,i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){P(e.$$.fragment,t),a=!1},d(t){t&&C(s),T(e,t)}}}function ct(i){let e,s,a,t="Settings",n,g,k="you can change the settings here, if running in static mode.",S,$,r="the settings are saved in the browser's Local storage",x,u,p,D,d,F,m,w,L,G;return p=new K({props:{class:"",$$slots:{default:[lt]},$$scope:{ctx:i}}}),p.$on("click",i[2]),d=new K({props:{class:"ml-3",color:"blue",$$slots:{default:[it]},$$scope:{ctx:i}}}),d.$on("click",i[1]),{c(){e=h("div"),s=h("div"),a=h("h2"),a.textContent=t,n=y(),g=h("p"),g.textContent=k,S=y(),$=h("p"),$.textContent=r,x=y(),u=h("div"),N(p.$$.fragment),D=y(),N(d.$$.fragment),F=y(),m=h("textarea"),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=E(e);s=v(l,"DIV",{class:!0});var c=E(s);a=v(c,"H2",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-1x96icy"&&(a.textContent=t),n=O(c),g=v(c,"P",{"data-svelte-h":!0}),q(g)!=="svelte-1j3brun"&&(g.textContent=k),S=O(c),$=v(c,"P",{"data-svelte-h":!0}),q($)!=="svelte-tmlbzb"&&($.textContent=r),x=O(c),u=v(c,"DIV",{class:!0});var _=E(u);J(p.$$.fragment,_),D=O(_),J(d.$$.fragment,_),_.forEach(C),c.forEach(C),F=O(l),m=v(l,"TEXTAREA",{class:!0,name:!0,id:!0}),E(m).forEach(C),l.forEach(C),this.h()},h(){b(a,"class","text-2xl"),b(u,"class","mt-2"),b(s,"class","my-5"),b(m,"class","w-full min-h-96 rounded-lg dark:bg-stone-900"),b(m,"name",""),b(m,"id",""),b(e,"class","mx-4 mb-3")},m(o,l){B(o,e,l),f(e,s),f(s,a),f(s,n),f(s,g),f(s,S),f(s,$),f(s,x),f(s,u),A(p,u,null),f(u,D),A(d,u,null),f(e,F),f(e,m),H(m,i[0]),w=!0,L||(G=U(m,"input",i[3]),L=!0)},p(o,[l]){const c={};l&128&&(c.$$scope={dirty:l,ctx:o}),p.$set(c);const _={};l&128&&(_.$$scope={dirty:l,ctx:o}),d.$set(_),l&1&&H(m,o[0])},i(o){w||(I(p.$$.fragment,o),I(d.$$.fragment,o),w=!0)},o(o){P(p.$$.fragment,o),P(d.$$.fragment,o),w=!1},d(o){o&&C(e),T(p),T(d),L=!1,G()}}}function ft(i,e,s){let a;W(i,j,r=>s(4,a=r));const t={kongApi:{endpoint:"http://localhost:8001",requestHeaders:{"header-key":"header-value"}}};let n="";Z(async()=>{for(;a===void 0;)await nt(50);if(a&&a.source==="remote"){z("settings not available if a remote config is present!"),st(`${at}/`);return}const r=localStorage.getItem(R);r?s(0,n=r):(z("loaded a config template!"),s(0,n=JSON.stringify(t,void 0,2)))});function g(r){let x;try{x=JSON.parse(r)}catch(u){V({message:`Failed to parse JSON. ${u.message}`});return}return V({message:"ok",type:"info"}),JSON.stringify(x,void 0,2)}function k(){const r=g(n);r&&s(0,n=r)}function S(){localStorage.setItem(R,n),j.set({config:JSON.parse(n),source:"local"}),V({message:"config successfully created!",type:"info"})}function $(){n=this.value,s(0,n)}return[n,k,S,$]}class ht extends tt{constructor(e){super(),et(this,e,ft,ct,Q,{})}}export{ht as component};
