import{s as Q,e as h,a as y,c as v,b as E,p as q,g as O,f as C,l as b,i as B,h as c,q as H,u as U,k as W,o as Z,t as M,d as X,n as Y}from"../chunks/scheduler.BSW9XCdM.js";import{S as tt,i as et,c as N,a as J,m as A,t as I,b as P,d as T}from"../chunks/index.C72GILm6.js";import{g as nt,b as st}from"../chunks/entry.C0gRSQna.js";import{d as at,L as R}from"../chunks/util.Be5M6xFt.js";import{F as ot,P as rt}from"../chunks/PaletteOutline.CCTZC0Gv.js";import{c as j,i as z,a as V}from"../chunks/stores.DGqwERWd.js";import{B as K}from"../chunks/Button.BykKynam.js";function lt(i){let e,n,s;return e=new ot({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),n=M(`

				save`)},l(t){J(e.$$.fragment,t),n=X(t,`

				save`)},m(t,a){A(e,t,a),B(t,n,a),s=!0},p:Y,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){t&&C(n),T(e,t)}}}function it(i){let e,n,s;return e=new rt({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),n=M(`
				format and validate JSON`)},l(t){J(e.$$.fragment,t),n=X(t,`
				format and validate JSON`)},m(t,a){A(e,t,a),B(t,n,a),s=!0},p:Y,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){t&&C(n),T(e,t)}}}function ft(i){let e,n,s,t="Settings",a,g,k="you can change the settings here, if running in static mode.",S,$,r="the settings are saved in the browser's Local storage",x,u,p,D,d,F,m,w,L,G;return p=new K({props:{class:"",$$slots:{default:[lt]},$$scope:{ctx:i}}}),p.$on("click",i[2]),d=new K({props:{class:"ml-3",color:"blue",$$slots:{default:[it]},$$scope:{ctx:i}}}),d.$on("click",i[1]),{c(){e=h("div"),n=h("div"),s=h("h2"),s.textContent=t,a=y(),g=h("p"),g.textContent=k,S=y(),$=h("p"),$.textContent=r,x=y(),u=h("div"),N(p.$$.fragment),D=y(),N(d.$$.fragment),F=y(),m=h("textarea"),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=E(e);n=v(l,"DIV",{class:!0});var f=E(n);s=v(f,"H2",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1x96icy"&&(s.textContent=t),a=O(f),g=v(f,"P",{"data-svelte-h":!0}),q(g)!=="svelte-1j3brun"&&(g.textContent=k),S=O(f),$=v(f,"P",{"data-svelte-h":!0}),q($)!=="svelte-tmlbzb"&&($.textContent=r),x=O(f),u=v(f,"DIV",{class:!0});var _=E(u);J(p.$$.fragment,_),D=O(_),J(d.$$.fragment,_),_.forEach(C),f.forEach(C),F=O(l),m=v(l,"TEXTAREA",{class:!0,name:!0,id:!0}),E(m).forEach(C),l.forEach(C),this.h()},h(){b(s,"class","text-2xl"),b(u,"class","mt-2"),b(n,"class","my-5"),b(m,"class","w-full min-h-96 rounded-lg dark:bg-stone-900"),b(m,"name",""),b(m,"id",""),b(e,"class","mx-4 mb-3")},m(o,l){B(o,e,l),c(e,n),c(n,s),c(n,a),c(n,g),c(n,S),c(n,$),c(n,x),c(n,u),A(p,u,null),c(u,D),A(d,u,null),c(e,F),c(e,m),H(m,i[0]),w=!0,L||(G=U(m,"input",i[3]),L=!0)},p(o,[l]){const f={};l&128&&(f.$$scope={dirty:l,ctx:o}),p.$set(f);const _={};l&128&&(_.$$scope={dirty:l,ctx:o}),d.$set(_),l&1&&H(m,o[0])},i(o){w||(I(p.$$.fragment,o),I(d.$$.fragment,o),w=!0)},o(o){P(p.$$.fragment,o),P(d.$$.fragment,o),w=!1},d(o){o&&C(e),T(p),T(d),L=!1,G()}}}function ct(i,e,n){let s;W(i,j,r=>n(4,s=r));const t={kongApi:{endpoint:"http://localhost:8001",requestHeaders:{"header-key":"header-value"}}};let a="";Z(async()=>{for(;s===void 0;)await at(50);if(s&&s.source==="remote"){z("settings not available if a remote config is present!"),nt(`${st}/`);return}const r=localStorage.getItem(R);r?n(0,a=r):(z("loaded a config template!"),n(0,a=JSON.stringify(t,void 0,2)))});function g(r){let x;try{x=JSON.parse(r)}catch(u){V({message:`Failed to parse JSON. ${u.message}`});return}return V({message:"ok",type:"info"}),JSON.stringify(x,void 0,2)}function k(){const r=g(a);r&&n(0,a=r)}function S(){localStorage.setItem(R,a),j.set({config:JSON.parse(a),source:"local"}),V({message:"config successfully created!",type:"info"})}function $(){a=this.value,n(0,a)}return[a,k,S,$]}class ht extends tt{constructor(e){super(),et(this,e,ct,ft,Q,{})}}export{ht as component};
