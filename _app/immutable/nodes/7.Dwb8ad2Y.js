import{s as g,k as b,o as d}from"../chunks/scheduler.CygsJwb4.js";import{S as k,i as S}from"../chunks/index.CTorNDhm.js";import{u}from"../chunks/stores.C8A7kter.js";import{g as t,b as l}from"../chunks/entry.BEIN-6mO.js";import{p as m}from"../chunks/stores.BZXYSml4.js";function $(o,s,p){let e;b(o,m,n=>p(1,e=n));let a=!1;return m.subscribe(n=>{if(!a)return;const r=new URLSearchParams(window.location.search),i=r.get("id_token"),c=r.get("state");if(i)if(u.set(i),setTimeout(async()=>{u.set(void 0),t(`${l}/login`)},59*60*1e3),c){const f=atob(c);t(f)}else t(`${l}/`)}),d(()=>{a=!0,e.url.toString().includes("callback#")&&t(e.url.toString().replace("#","?"))}),[]}class x extends k{constructor(s){super(),S(this,s,$,null,g,{})}}export{x as component};
