import{s as we,v as P,i as y,n as G,f as v,w as ne,x as ze,y as H,z as fe,A as C,J as T,K as D,b as E,l as _,L as Q,h as p,u as L,r as Ee,t as U,d as W,j as V,a as x,e as R,M as Be,g as $,c as j,k as Ce,o as Ae}from"../chunks/scheduler.BSW9XCdM.js";import{S as ye,i as Le,c as te,a as le,m as ie,b as N,e as Pe,t as O,d as ae,g as Te}from"../chunks/index.C72GILm6.js";import{s as de,k as De,p as ue}from"../chunks/config.DgbcnDvX.js";import{C as Ue,A as We}from"../chunks/ArrayWrap.CIlO9CFS.js";import{g as Me,c as ce,d as he,i as _e,a as Re}from"../chunks/util.CVCLAZdi.js";import{t as X}from"../chunks/bundle-mjs.D696Ktp4.js";import{b as se,g as je}from"../chunks/entry.NAUo45RY.js";import{D as ee,t as me}from"../chunks/stores.BXoQTJHR.js";import{a as be}from"../chunks/requests.DfGFhmpk.js";import{p as Ie}from"../chunks/stores.upqAsb26.js";function Se(l){let e,s,i,r,t,a=l[4].id&&l[4].title&&ve(l),m=l[6].id&&l[6].desc&&ge(l),c=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:l[2]},l[11],{class:r=X("shrink-0",l[9][l[0]??"md"],l[12].class)},{role:l[1]},{"aria-label":l[7]},{"aria-describedby":t=l[8]?l[10]:void 0},{viewBox:"0 0 24 24"}],d={};for(let n=0;n<c.length;n+=1)d=H(d,c[n]);return{c(){e=T("svg"),a&&a.c(),s=P(),m&&m.c(),i=T("path"),this.h()},l(n){e=D(n,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var u=E(e);a&&a.l(u),s=P(),m&&m.l(u),i=D(u,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(i).forEach(v),u.forEach(v),this.h()},h(){_(i,"stroke","currentColor"),_(i,"stroke-linecap","round"),_(i,"stroke-linejoin","round"),_(i,"stroke-width",l[5]),_(i,"d","M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"),Q(e,d)},m(n,u){y(n,e,u),a&&a.m(e,null),p(e,s),m&&m.m(e,null),p(e,i)},p(n,u){n[4].id&&n[4].title?a?a.p(n,u):(a=ve(n),a.c(),a.m(e,s)):a&&(a.d(1),a=null),n[6].id&&n[6].desc?m?m.p(n,u):(m=ge(n),m.c(),m.m(e,i)):m&&(m.d(1),m=null),u&32&&_(i,"stroke-width",n[5]),Q(e,d=Me(c,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},u&4&&{color:n[2]},u&2048&&n[11],u&4097&&r!==(r=X("shrink-0",n[9][n[0]??"md"],n[12].class))&&{class:r},u&2&&{role:n[1]},u&128&&{"aria-label":n[7]},u&256&&t!==(t=n[8]?n[10]:void 0)&&{"aria-describedby":t},{viewBox:"0 0 24 24"}]))},d(n){n&&v(e),a&&a.d(),m&&m.d()}}}function Ne(l){let e,s,i,r,t,a,m,c=l[4].id&&l[4].title&&ke(l),d=l[6].id&&l[6].desc&&pe(l),n=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:l[2]},l[11],{class:r=X("shrink-0",l[9][l[0]??"md"],l[12].class)},{role:l[1]},{"aria-label":l[7]},{"aria-describedby":t=l[8]?l[10]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<n.length;f+=1)u=H(u,n[f]);return{c(){e=T("svg"),c&&c.c(),s=P(),d&&d.c(),i=T("path"),this.h()},l(f){e=D(f,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var b=E(e);c&&c.l(b),s=P(),d&&d.l(b),i=D(b,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(i).forEach(v),b.forEach(v),this.h()},h(){_(i,"stroke","currentColor"),_(i,"stroke-linecap","round"),_(i,"stroke-linejoin","round"),_(i,"stroke-width",l[5]),_(i,"d","M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"),Q(e,u)},m(f,b){y(f,e,b),c&&c.m(e,null),p(e,s),d&&d.m(e,null),p(e,i),a||(m=[L(e,"click",l[13]),L(e,"keydown",l[14]),L(e,"keyup",l[15]),L(e,"focus",l[16]),L(e,"blur",l[17]),L(e,"mouseenter",l[18]),L(e,"mouseleave",l[19]),L(e,"mouseover",l[20]),L(e,"mouseout",l[21])],a=!0)},p(f,b){f[4].id&&f[4].title?c?c.p(f,b):(c=ke(f),c.c(),c.m(e,s)):c&&(c.d(1),c=null),f[6].id&&f[6].desc?d?d.p(f,b):(d=pe(f),d.c(),d.m(e,i)):d&&(d.d(1),d=null),b&32&&_(i,"stroke-width",f[5]),Q(e,u=Me(n,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},b&4&&{color:f[2]},b&2048&&f[11],b&4097&&r!==(r=X("shrink-0",f[9][f[0]??"md"],f[12].class))&&{class:r},b&2&&{role:f[1]},b&128&&{"aria-label":f[7]},b&256&&t!==(t=f[8]?f[10]:void 0)&&{"aria-describedby":t},{viewBox:"0 0 24 24"}]))},d(f){f&&v(e),c&&c.d(),d&&d.d(),a=!1,Ee(m)}}}function ve(l){let e,s=l[4].title+"",i,r;return{c(){e=T("title"),i=U(s),this.h()},l(t){e=D(t,"title",{id:!0});var a=E(e);i=W(a,s),a.forEach(v),this.h()},h(){_(e,"id",r=l[4].id)},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&16&&s!==(s=t[4].title+"")&&V(i,s),a&16&&r!==(r=t[4].id)&&_(e,"id",r)},d(t){t&&v(e)}}}function ge(l){let e,s=l[6].desc+"",i,r;return{c(){e=T("desc"),i=U(s),this.h()},l(t){e=D(t,"desc",{id:!0});var a=E(e);i=W(a,s),a.forEach(v),this.h()},h(){_(e,"id",r=l[6].id)},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&64&&s!==(s=t[6].desc+"")&&V(i,s),a&64&&r!==(r=t[6].id)&&_(e,"id",r)},d(t){t&&v(e)}}}function ke(l){let e,s=l[4].title+"",i,r;return{c(){e=T("title"),i=U(s),this.h()},l(t){e=D(t,"title",{id:!0});var a=E(e);i=W(a,s),a.forEach(v),this.h()},h(){_(e,"id",r=l[4].id)},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&16&&s!==(s=t[4].title+"")&&V(i,s),a&16&&r!==(r=t[4].id)&&_(e,"id",r)},d(t){t&&v(e)}}}function pe(l){let e,s=l[6].desc+"",i,r;return{c(){e=T("desc"),i=U(s),this.h()},l(t){e=D(t,"desc",{id:!0});var a=E(e);i=W(a,s),a.forEach(v),this.h()},h(){_(e,"id",r=l[6].id)},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&64&&s!==(s=t[6].desc+"")&&V(i,s),a&64&&r!==(r=t[6].id)&&_(e,"id",r)},d(t){t&&v(e)}}}function Oe(l){let e;function s(t,a){return t[3]?Ne:Se}let i=s(l),r=i(l);return{c(){r.c(),e=P()},l(t){r.l(t),e=P()},m(t,a){r.m(t,a),y(t,e,a)},p(t,[a]){i===(i=s(t))&&r?r.p(t,a):(r.d(1),r=i(t),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(t){t&&v(e),r.d(t)}}}function Ve(l,e,s){const i=["size","role","color","withEvents","title","strokeWidth","desc","ariaLabel"];let r=ne(e,i);const t=ze("iconCtx")??{},a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:m=t.size||"md"}=e,{role:c=t.role||"img"}=e,{color:d=t.color||"currentColor"}=e,{withEvents:n=t.withEvents||!1}=e,{title:u={}}=e,{strokeWidth:f=t.strokeWidth||"2"}=e,{desc:b={}}=e,A=`${u.id||""} ${b.id||""}`,M=!1,{ariaLabel:k="refresh outline"}=e;function w(o){C.call(this,l,o)}function g(o){C.call(this,l,o)}function z(o){C.call(this,l,o)}function S(o){C.call(this,l,o)}function q(o){C.call(this,l,o)}function F(o){C.call(this,l,o)}function B(o){C.call(this,l,o)}function J(o){C.call(this,l,o)}function h(o){C.call(this,l,o)}return l.$$set=o=>{s(12,e=H(H({},e),fe(o))),s(11,r=ne(e,i)),"size"in o&&s(0,m=o.size),"role"in o&&s(1,c=o.role),"color"in o&&s(2,d=o.color),"withEvents"in o&&s(3,n=o.withEvents),"title"in o&&s(4,u=o.title),"strokeWidth"in o&&s(5,f=o.strokeWidth),"desc"in o&&s(6,b=o.desc),"ariaLabel"in o&&s(7,k=o.ariaLabel)},l.$$.update=()=>{l.$$.dirty&80&&(u.id||b.id?s(8,M=!0):s(8,M=!1))},e=fe(e),[m,c,d,n,u,f,b,k,M,a,A,r,e,w,g,z,S,q,F,B,J,h]}class qe extends ye{constructor(e){super(),Le(this,e,Ve,Oe,we,{size:0,role:1,color:2,withEvents:3,title:4,strokeWidth:5,desc:6,ariaLabel:7})}}function Fe(l){let e,s,i=(l[1]??"")+"",r;return{c(){e=R("p"),s=U("Loading "),r=U(i),this.h()},l(t){e=j(t,"P",{class:!0});var a=E(e);s=W(a,"Loading "),r=W(a,i),a.forEach(v),this.h()},h(){_(e,"class","pl-5 pb-4 text-xl font-light")},m(t,a){y(t,e,a),p(e,s),p(e,r)},p(t,a){a&2&&i!==(i=(t[1]??"")+"")&&V(r,i)},i:G,o:G,d(t){t&&v(e)}}}function Je(l){let e,s;return e=new We({props:{dataRaw:l[0],type:l[1],entity:l[2]}}),e.$on("refresh",l[7]),{c(){te(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,r){ie(e,i,r),s=!0},p(i,r){const t={};r&1&&(t.dataRaw=i[0]),r&2&&(t.type=i[1]),r&4&&(t.entity=i[2]),e.$set(t)},i(i){s||(O(e.$$.fragment,i),s=!0)},o(i){N(e.$$.fragment,i),s=!1},d(i){ae(e,i)}}}function Ke(l){let e,s,i,r,t,a,m,c,d,n,u,f,b,A,M,k,w,g,z,S,q;document.title=e=de.name+" - "+ce(l[1]),a=new qe({}),f=new Ue({props:{class:"mr-[2px]"}});const F=[Je,Fe],B=[];function J(h,o){return h[0]?0:1}return k=J(l),w=B[k]=F[k](l),{c(){s=x(),i=R("div"),r=R("div"),t=R("button"),te(a.$$.fragment),m=U(`
			Refresh`),c=x(),d=R("button"),n=R("a"),u=R("div"),te(f.$$.fragment),b=U(`
					Add`),M=x(),w.c(),g=P(),this.h()},l(h){Be("svelte-f4u3pm",document.head).forEach(v),s=$(h),i=j(h,"DIV",{class:!0});var I=E(i);r=j(I,"DIV",{class:!0});var K=E(r);t=j(K,"BUTTON",{color:!0,class:!0});var Y=E(t);le(a.$$.fragment,Y),m=W(Y,`
			Refresh`),Y.forEach(v),c=$(K),d=j(K,"BUTTON",{class:!0,color:!0});var re=E(d);n=j(re,"A",{href:!0});var oe=E(n);u=j(oe,"DIV",{class:!0});var Z=E(u);le(f.$$.fragment,Z),b=W(Z,`
					Add`),Z.forEach(v),oe.forEach(v),re.forEach(v),K.forEach(v),I.forEach(v),M=$(h),w.l(h),g=P(),this.h()},h(){_(t,"color","alternative"),_(t,"class","flex flex-row mr-2 text-emerald-600 items-center"),_(u,"class","flex flex-row items-center space-x-1"),_(n,"href",A=se+"/add?type="+l[1]),_(d,"class","flex flex-row mr-2 text-blue-700 items-center"),_(d,"color","alternative"),_(r,"class","flex flex-row mb-2 h-10"),_(i,"class","flex flex-col m-4 mb-3 font-light text-2xl")},m(h,o){y(h,s,o),y(h,i,o),p(i,r),p(r,t),ie(a,t,null),p(t,m),p(r,c),p(r,d),p(d,n),p(n,u),ie(f,u,null),p(u,b),y(h,M,o),B[k].m(h,o),y(h,g,o),z=!0,S||(q=[L(t,"click",l[5]),L(d,"click",l[6])],S=!0)},p(h,[o]){(!z||o&2)&&e!==(e=de.name+" - "+ce(h[1]))&&(document.title=e),(!z||o&2&&A!==(A=se+"/add?type="+h[1]))&&_(n,"href",A);let I=k;k=J(h),k===I?B[k].p(h,o):(Te(),N(B[I],1,1,()=>{B[I]=null}),Pe(),w=B[k],w?w.p(h,o):(w=B[k]=F[k](h),w.c()),O(w,1),w.m(g.parentNode,g))},i(h){z||(O(a.$$.fragment,h),O(f.$$.fragment,h),O(w),z=!0)},o(h){N(a.$$.fragment,h),N(f.$$.fragment,h),N(w),z=!1},d(h){h&&(v(s),v(i),v(M),v(g)),ae(a),ae(f),B[k].d(h),S=!1,Ee(q)}}}function Ge(l,e,s){let i;Ce(l,Ie,b=>s(4,i=b));let r,t,a,m=!1;Ae(()=>{m=!0,d()});let c;async function d(b=!1){if(!m)return;const A=new URLSearchParams(window.location.search);c=ee.now();const M=t;s(1,t=A.get("type")??"none");let k=!1;M!=t&&(s(0,r=void 0),k=!0);try{if(s(2,a=De.find(z=>z.name==t)),!a)return;let g=await(await be()).findAll(a.apiPath,{});s(0,r=g.data.data);var w=c;for(await he(ue);g.data.next&&(g=await(await be()).request(g.data.next??"",void 0,void 0),w==c);)g.ok&&(s(0,r=r.concat(g.data.data)),k&&me.set(t+ee.now().toUnixInteger())),await he(ue);me.set(t+ee.now().toUnixInteger()),b&&_e("refresh finished!")}catch(g){console.log(g),Re({message:`Failed fetching the ${t}. ${g.message?g.message:""}`})}}const n=()=>{d(!0),_e("refresh started!")},u=()=>{je(`${se}/add?type=${t}`)},f=async()=>await d();return l.$$.update=()=>{l.$$.dirty&16&&d()},[r,t,a,d,i,n,u,f]}class it extends ye{constructor(e){super(),Le(this,e,Ge,Ke,we,{})}}export{it as component};
