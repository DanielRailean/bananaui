import{s as Q,e as h,a as y,c as v,b as E,v as q,g as O,f as C,p as b,i as B,h as c,q as H,r as U,k as W,o as Z,t as M,d as X,n as Y}from"../chunks/scheduler.CpEJJFsZ.js";import{S as tt,i as et,c as N,a as J,m as A,t as I,b as L,d as P}from"../chunks/index.wdiv0cAc.js";import{g as at,b as st}from"../chunks/entry.COFuS0Al.js";import{d as nt,L as R}from"../chunks/util.BItJPymN.js";import{F as ot,P as rt}from"../chunks/PaletteOutline.C3D2mYEj.js";import{i as j,c as z,a as V}from"../chunks/stores.BGd6j3uq.js";import{B as K}from"../chunks/Button.klApXfg6.js";function lt(i){let e,a,s;return e=new ot({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),a=M(`

				save`)},l(t){J(e.$$.fragment,t),a=X(t,`

				save`)},m(t,n){A(e,t,n),B(t,a,n),s=!0},p:Y,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){t&&C(a),P(e,t)}}}function it(i){let e,a,s;return e=new rt({props:{class:"mr-1"}}),{c(){N(e.$$.fragment),a=M(`
				format and validate JSON`)},l(t){J(e.$$.fragment,t),a=X(t,`
				format and validate JSON`)},m(t,n){A(e,t,n),B(t,a,n),s=!0},p:Y,i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){t&&C(a),P(e,t)}}}function ft(i){let e,a,s,t="Settings",n,g,k="you can change the settings here, if running in static mode.",S,$,r="the settings are saved in the browser's Local storage",x,u,p,T,d,D,m,w,F,G;return p=new K({props:{class:"",$$slots:{default:[lt]},$$scope:{ctx:i}}}),p.$on("click",i[2]),d=new K({props:{class:"ml-3",color:"blue",$$slots:{default:[it]},$$scope:{ctx:i}}}),d.$on("click",i[1]),{c(){e=h("div"),a=h("div"),s=h("h2"),s.textContent=t,n=y(),g=h("p"),g.textContent=k,S=y(),$=h("p"),$.textContent=r,x=y(),u=h("div"),N(p.$$.fragment),T=y(),N(d.$$.fragment),D=y(),m=h("textarea"),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=E(e);a=v(l,"DIV",{class:!0});var f=E(a);s=v(f,"H2",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-1x96icy"&&(s.textContent=t),n=O(f),g=v(f,"P",{"data-svelte-h":!0}),q(g)!=="svelte-1j3brun"&&(g.textContent=k),S=O(f),$=v(f,"P",{"data-svelte-h":!0}),q($)!=="svelte-tmlbzb"&&($.textContent=r),x=O(f),u=v(f,"DIV",{class:!0});var _=E(u);J(p.$$.fragment,_),T=O(_),J(d.$$.fragment,_),_.forEach(C),f.forEach(C),D=O(l),m=v(l,"TEXTAREA",{class:!0,name:!0,id:!0}),E(m).forEach(C),l.forEach(C),this.h()},h(){b(s,"class","text-2xl"),b(u,"class","mt-2"),b(a,"class","my-5"),b(m,"class","w-full min-h-96 rounded-lg dark:bg-stone-900"),b(m,"name",""),b(m,"id",""),b(e,"class","mx-4 mb-3")},m(o,l){B(o,e,l),c(e,a),c(a,s),c(a,n),c(a,g),c(a,S),c(a,$),c(a,x),c(a,u),A(p,u,null),c(u,T),A(d,u,null),c(e,D),c(e,m),H(m,i[0]),w=!0,F||(G=U(m,"input",i[3]),F=!0)},p(o,[l]){const f={};l&128&&(f.$$scope={dirty:l,ctx:o}),p.$set(f);const _={};l&128&&(_.$$scope={dirty:l,ctx:o}),d.$set(_),l&1&&H(m,o[0])},i(o){w||(I(p.$$.fragment,o),I(d.$$.fragment,o),w=!0)},o(o){L(p.$$.fragment,o),L(d.$$.fragment,o),w=!1},d(o){o&&C(e),P(p),P(d),F=!1,G()}}}function ct(i,e,a){let s;W(i,z,r=>a(4,s=r));const t={auth:{enabled:!1,autoLogin:!1},kongApi:{endpoint:"http://localhost:8001",requestHeaders:{"header-key":"header-value"}}};let n="";Z(async()=>{for(;s===void 0;)await nt(50);if(s&&s.source==="remote"){j("settings not available if a remote config is present!"),at(`${st}/`);return}const r=localStorage.getItem(R);r?a(0,n=r):(j("loaded a config template!"),a(0,n=JSON.stringify(t,void 0,2)))});function g(r){let x;try{x=JSON.parse(r)}catch(u){V({message:`Failed to parse JSON. ${u.message}`});return}return V({message:"ok",type:"info"}),JSON.stringify(x,void 0,2)}function k(){const r=g(n);r&&a(0,n=r)}function S(){localStorage.setItem(R,n),z.set({config:JSON.parse(n),source:"local"}),V({message:"config successfully created!",type:"info"})}function $(){n=this.value,a(0,n)}return[n,k,S,$]}class ht extends tt{constructor(e){super(),et(this,e,ct,ft,Q,{})}}export{ht as component};
