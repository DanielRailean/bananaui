import{s as ce,v as C,i as w,n as j,f as _,w as _e,x as Ae,y as re,z as he,A as V,J as Z,K,b as P,l as h,L as se,h as y,u as W,r as ze,t as A,d as I,j as ne,e as J,a as F,c as L,g as M,k as Ie,o as Re,P as pe,p as Ve,q as ge,S as Fe}from"../chunks/scheduler.BSW9XCdM.js";import{S as de,i as me,c as N,a as D,m as B,t as g,g as X,b as k,e as G,d as z}from"../chunks/index.C72GILm6.js";import{e as be}from"../chunks/each.d6BMAjLi.js";import{T as Me,F as He,C as qe,A as Ze}from"../chunks/ArrayWrap.C_1WuGL9.js";import{B as ee}from"../chunks/Button.B6aQXq6i.js";import{T as Ke}from"../chunks/treeWrapper.BJwAyxBd.js";import{a as le}from"../chunks/requests.BG1PlApC.js";import{g as ke,b as ae}from"../chunks/entry.DaAweDUH.js";import{p as Ue}from"../chunks/stores.BaQBT9sl.js";import{g as Je,w as Xe}from"../chunks/util.BSQYK1U1.js";import{a as x}from"../chunks/stores.CBiANZDg.js";import{t as ie}from"../chunks/bundle-mjs.D696Ktp4.js";import{P as Ge,F as Qe}from"../chunks/PaletteOutline.CxRw6cSS.js";import{a as Ye,k as ve,f as xe}from"../chunks/config.n4gmJunM.js";function et(i){let e,a,t,l,r,s=i[4].id&&i[4].title&&we(i),n=i[6].id&&i[6].desc&&$e(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:i[2]},i[11],{class:l=ie("shrink-0",i[9][i[0]??"md"],i[12].class)},{role:i[1]},{"aria-label":i[7]},{"aria-describedby":r=i[8]?i[10]:void 0},{viewBox:"0 0 24 24"}],u={};for(let f=0;f<o.length;f+=1)u=re(u,o[f]);return{c(){e=Z("svg"),s&&s.c(),a=C(),n&&n.c(),t=Z("path"),this.h()},l(f){e=K(f,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var m=P(e);s&&s.l(m),a=C(),n&&n.l(m),t=K(m,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),P(t).forEach(_),m.forEach(_),this.h()},h(){h(t,"stroke","currentColor"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width",i[5]),h(t,"d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"),se(e,u)},m(f,m){w(f,e,m),s&&s.m(e,null),y(e,a),n&&n.m(e,null),y(e,t)},p(f,m){f[4].id&&f[4].title?s?s.p(f,m):(s=we(f),s.c(),s.m(e,a)):s&&(s.d(1),s=null),f[6].id&&f[6].desc?n?n.p(f,m):(n=$e(f),n.c(),n.m(e,t)):n&&(n.d(1),n=null),m&32&&h(t,"stroke-width",f[5]),se(e,u=Je(o,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},m&4&&{color:f[2]},m&2048&&f[11],m&4097&&l!==(l=ie("shrink-0",f[9][f[0]??"md"],f[12].class))&&{class:l},m&2&&{role:f[1]},m&128&&{"aria-label":f[7]},m&256&&r!==(r=f[8]?f[10]:void 0)&&{"aria-describedby":r},{viewBox:"0 0 24 24"}]))},d(f){f&&_(e),s&&s.d(),n&&n.d()}}}function tt(i){let e,a,t,l,r,s,n,o=i[4].id&&i[4].title&&Ee(i),u=i[6].id&&i[6].desc&&ye(i),f=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:i[2]},i[11],{class:l=ie("shrink-0",i[9][i[0]??"md"],i[12].class)},{role:i[1]},{"aria-label":i[7]},{"aria-describedby":r=i[8]?i[10]:void 0},{viewBox:"0 0 24 24"}],m={};for(let d=0;d<f.length;d+=1)m=re(m,f[d]);return{c(){e=Z("svg"),o&&o.c(),a=C(),u&&u.c(),t=Z("path"),this.h()},l(d){e=K(d,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var c=P(e);o&&o.l(c),a=C(),u&&u.l(c),t=K(c,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),P(t).forEach(_),c.forEach(_),this.h()},h(){h(t,"stroke","currentColor"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width",i[5]),h(t,"d","m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"),se(e,m)},m(d,c){w(d,e,c),o&&o.m(e,null),y(e,a),u&&u.m(e,null),y(e,t),s||(n=[W(e,"click",i[13]),W(e,"keydown",i[14]),W(e,"keyup",i[15]),W(e,"focus",i[16]),W(e,"blur",i[17]),W(e,"mouseenter",i[18]),W(e,"mouseleave",i[19]),W(e,"mouseover",i[20]),W(e,"mouseout",i[21])],s=!0)},p(d,c){d[4].id&&d[4].title?o?o.p(d,c):(o=Ee(d),o.c(),o.m(e,a)):o&&(o.d(1),o=null),d[6].id&&d[6].desc?u?u.p(d,c):(u=ye(d),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c&32&&h(t,"stroke-width",d[5]),se(e,m=Je(f,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},c&4&&{color:d[2]},c&2048&&d[11],c&4097&&l!==(l=ie("shrink-0",d[9][d[0]??"md"],d[12].class))&&{class:l},c&2&&{role:d[1]},c&128&&{"aria-label":d[7]},c&256&&r!==(r=d[8]?d[10]:void 0)&&{"aria-describedby":r},{viewBox:"0 0 24 24"}]))},d(d){d&&_(e),o&&o.d(),u&&u.d(),s=!1,ze(n)}}}function we(i){let e,a=i[4].title+"",t,l;return{c(){e=Z("title"),t=A(a),this.h()},l(r){e=K(r,"title",{id:!0});var s=P(e);t=I(s,a),s.forEach(_),this.h()},h(){h(e,"id",l=i[4].id)},m(r,s){w(r,e,s),y(e,t)},p(r,s){s&16&&a!==(a=r[4].title+"")&&ne(t,a),s&16&&l!==(l=r[4].id)&&h(e,"id",l)},d(r){r&&_(e)}}}function $e(i){let e,a=i[6].desc+"",t,l;return{c(){e=Z("desc"),t=A(a),this.h()},l(r){e=K(r,"desc",{id:!0});var s=P(e);t=I(s,a),s.forEach(_),this.h()},h(){h(e,"id",l=i[6].id)},m(r,s){w(r,e,s),y(e,t)},p(r,s){s&64&&a!==(a=r[6].desc+"")&&ne(t,a),s&64&&l!==(l=r[6].id)&&h(e,"id",l)},d(r){r&&_(e)}}}function Ee(i){let e,a=i[4].title+"",t,l;return{c(){e=Z("title"),t=A(a),this.h()},l(r){e=K(r,"title",{id:!0});var s=P(e);t=I(s,a),s.forEach(_),this.h()},h(){h(e,"id",l=i[4].id)},m(r,s){w(r,e,s),y(e,t)},p(r,s){s&16&&a!==(a=r[4].title+"")&&ne(t,a),s&16&&l!==(l=r[4].id)&&h(e,"id",l)},d(r){r&&_(e)}}}function ye(i){let e,a=i[6].desc+"",t,l;return{c(){e=Z("desc"),t=A(a),this.h()},l(r){e=K(r,"desc",{id:!0});var s=P(e);t=I(s,a),s.forEach(_),this.h()},h(){h(e,"id",l=i[6].id)},m(r,s){w(r,e,s),y(e,t)},p(r,s){s&64&&a!==(a=r[6].desc+"")&&ne(t,a),s&64&&l!==(l=r[6].id)&&h(e,"id",l)},d(r){r&&_(e)}}}function lt(i){let e;function a(r,s){return r[3]?tt:et}let t=a(i),l=t(i);return{c(){l.c(),e=C()},l(r){l.l(r),e=C()},m(r,s){l.m(r,s),w(r,e,s)},p(r,[s]){t===(t=a(r))&&l?l.p(r,s):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},i:j,o:j,d(r){r&&_(e),l.d(r)}}}function rt(i,e,a){const t=["size","role","color","withEvents","title","strokeWidth","desc","ariaLabel"];let l=_e(e,t);const r=Ae("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:n=r.size||"md"}=e,{role:o=r.role||"img"}=e,{color:u=r.color||"currentColor"}=e,{withEvents:f=r.withEvents||!1}=e,{title:m={}}=e,{strokeWidth:d=r.strokeWidth||"2"}=e,{desc:c={}}=e,$=`${m.id||""} ${c.id||""}`,O=!1,{ariaLabel:H="edit outline"}=e;function b(p){V.call(this,i,p)}function v(p){V.call(this,i,p)}function S(p){V.call(this,i,p)}function Q(p){V.call(this,i,p)}function Y(p){V.call(this,i,p)}function U(p){V.call(this,i,p)}function oe(p){V.call(this,i,p)}function fe(p){V.call(this,i,p)}function ue(p){V.call(this,i,p)}return i.$$set=p=>{a(12,e=re(re({},e),he(p))),a(11,l=_e(e,t)),"size"in p&&a(0,n=p.size),"role"in p&&a(1,o=p.role),"color"in p&&a(2,u=p.color),"withEvents"in p&&a(3,f=p.withEvents),"title"in p&&a(4,m=p.title),"strokeWidth"in p&&a(5,d=p.strokeWidth),"desc"in p&&a(6,c=p.desc),"ariaLabel"in p&&a(7,H=p.ariaLabel)},i.$$.update=()=>{i.$$.dirty&80&&(m.id||c.id?a(8,O=!0):a(8,O=!1))},e=he(e),[n,o,u,f,m,d,c,H,O,s,$,l,e,b,v,S,Q,Y,U,oe,fe,ue]}class st extends de{constructor(e){super(),me(this,e,rt,lt,ce,{size:0,role:1,color:2,withEvents:3,title:4,strokeWidth:5,desc:6,ariaLabel:7})}}function Pe(i,e,a){const t=i.slice();return t[28]=e[a],t}function at(i){let e,a,t;return e=new st({props:{class:"m-2"}}),{c(){N(e.$$.fragment),a=A("edit")},l(l){D(e.$$.fragment,l),a=I(l,"edit")},m(l,r){B(e,l,r),w(l,a,r),t=!0},p:j,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){l&&_(a),z(e,l)}}}function it(i){let e,a,t,l,r;return t=new Me({props:{class:"m-1"}}),{c(){e=J("div"),a=J("div"),N(t.$$.fragment),l=A(`
					delete`),this.h()},l(s){e=L(s,"DIV",{class:!0});var n=P(e);a=L(n,"DIV",{class:!0});var o=P(a);D(t.$$.fragment,o),l=I(o,`
					delete`),o.forEach(_),n.forEach(_),this.h()},h(){h(a,"class","flex flex-row items-center"),h(e,"class","text-rose-500")},m(s,n){w(s,e,n),y(e,a),B(t,a,null),y(a,l),r=!0},p:j,i(s){r||(g(t.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),r=!1},d(s){s&&_(e),z(t)}}}function nt(i){let e,a,t;return e=new He({props:{class:"m-2"}}),{c(){N(e.$$.fragment),a=A(`
			copy`)},l(l){D(e.$$.fragment,l),a=I(l,`
			copy`)},m(l,r){B(e,l,r),w(l,a,r),t=!0},p:j,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){l&&_(a),z(e,l)}}}function Oe(i){let e,a,t,l;e=new ee({props:{class:"mr-3",color:"blue",$$slots:{default:[ot]},$$scope:{ctx:i}}}),e.$on("click",i[11]);let r=i[1]!=i[2]&&Se(i);return{c(){N(e.$$.fragment),a=F(),r&&r.c(),t=C()},l(s){D(e.$$.fragment,s),a=M(s),r&&r.l(s),t=C()},m(s,n){B(e,s,n),w(s,a,n),r&&r.m(s,n),w(s,t,n),l=!0},p(s,n){const o={};n[1]&1&&(o.$$scope={dirty:n,ctx:s}),e.$set(o),s[1]!=s[2]?r?(r.p(s,n),n[0]&6&&g(r,1)):(r=Se(s),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(X(),k(r,1,1,()=>{r=null}),G())},i(s){l||(g(e.$$.fragment,s),g(r),l=!0)},o(s){k(e.$$.fragment,s),k(r),l=!1},d(s){s&&(_(a),_(t)),z(e,s),r&&r.d(s)}}}function ot(i){let e,a,t;return e=new Ge({props:{class:"m-2"}}),{c(){N(e.$$.fragment),a=A(`
				format and validate JSON`)},l(l){D(e.$$.fragment,l),a=I(l,`
				format and validate JSON`)},m(l,r){B(e,l,r),w(l,a,r),t=!0},p:j,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){l&&_(a),z(e,l)}}}function Se(i){let e,a;return e=new ee({props:{class:"mr-3",color:"green",$$slots:{default:[ft]},$$scope:{ctx:i}}}),e.$on("click",i[18]),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){B(e,t,l),a=!0},p(t,l){const r={};l[1]&1&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){a||(g(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){z(e,t)}}}function ft(i){let e,a,t;return e=new Qe({props:{class:"m-2"}}),{c(){N(e.$$.fragment),a=A(`
					save`)},l(l){D(e.$$.fragment,l),a=I(l,`
					save`)},m(l,r){B(e,l,r),w(l,a,r),t=!0},p:j,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){l&&_(a),z(e,l)}}}function ut(i){let e,a="Loading ...";return{c(){e=J("h2"),e.textContent=a,this.h()},l(t){e=L(t,"H2",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-wq8tmm"&&(e.textContent=a),this.h()},h(){h(e,"class","text-xl text-center")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&_(e)}}}function ct(i){let e,a,t,l,r,s,n,o,u,f,m,d=!i[3]&&Ce(i);return{c(){e=J("div"),a=J("pre"),t=J("code"),l=F(),r=J("textarea"),n=F(),d&&d.c(),o=C(),this.h()},l(c){e=L(c,"DIV",{class:!0});var $=P(e);a=L($,"PRE",{class:!0});var O=P(a);t=L(O,"CODE",{class:!0}),P(t).forEach(_),O.forEach(_),l=M($),r=L($,"TEXTAREA",{spellcheck:!0,wrap:!0,autocorrect:!0,autocapitalize:!0,translate:!0,class:!0}),P(r).forEach(_),$.forEach(_),n=M(c),d&&d.l(c),o=C(),this.h()},h(){h(t,"class","svelte-1c016cv"),h(a,"class","language-json svelte-1c016cv"),h(r,"spellcheck","false"),h(r,"wrap","hard"),h(r,"autocorrect","off"),h(r,"autocapitalize","off"),h(r,"translate","no"),h(r,"class","relative svelte-1c016cv"),h(e,"class",s="editor dark:bg-[#1E2021] w-full min-h-[30vh] line-numbers "+(i[3]?"grid":"hidden")+" svelte-1c016cv")},m(c,$){w(c,e,$),y(e,a),y(a,t),i[19](t),y(e,l),y(e,r),i[20](r),ge(r,i[2]),w(c,n,$),d&&d.m(c,$),w(c,o,$),u=!0,f||(m=[W(r,"input",i[21]),W(r,"input",i[22])],f=!0)},p(c,$){$[0]&4&&ge(r,c[2]),(!u||$[0]&8&&s!==(s="editor dark:bg-[#1E2021] w-full min-h-[30vh] line-numbers "+(c[3]?"grid":"hidden")+" svelte-1c016cv"))&&h(e,"class",s),c[3]?d&&(X(),k(d,1,1,()=>{d=null}),G()):d?(d.p(c,$),$[0]&8&&g(d,1)):(d=Ce(c),d.c(),g(d,1),d.m(o.parentNode,o))},i(c){u||(g(d),u=!0)},o(c){k(d),u=!1},d(c){c&&(_(e),_(n),_(o)),i[19](null),i[20](null),d&&d.d(c),f=!1,ze(m)}}}function Ce(i){let e,a,t,l;e=new Ke({props:{data:i[0],rounded:!1,type:i[5]}}),e.$on("refresh",i[23]);let r=i[6]&&Ne(i);return{c(){N(e.$$.fragment),a=F(),r&&r.c(),t=C()},l(s){D(e.$$.fragment,s),a=M(s),r&&r.l(s),t=C()},m(s,n){B(e,s,n),w(s,a,n),r&&r.m(s,n),w(s,t,n),l=!0},p(s,n){const o={};n[0]&1&&(o.data=s[0]),n[0]&32&&(o.type=s[5]),e.$set(o),s[6]?r?(r.p(s,n),n[0]&64&&g(r,1)):(r=Ne(s),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(X(),k(r,1,1,()=>{r=null}),G())},i(s){l||(g(e.$$.fragment,s),g(r),l=!0)},o(s){k(e.$$.fragment,s),k(r),l=!1},d(s){s&&(_(a),_(t)),z(e,s),r&&r.d(s)}}}function Ne(i){let e,a,t=be(i[6]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Be(Pe(i,t,s));const r=s=>k(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=C()},l(s){for(let n=0;n<l.length;n+=1)l[n].l(s);e=C()},m(s,n){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,n);w(s,e,n),a=!0},p(s,n){if(n[0]&576){t=be(s[6]);let o;for(o=0;o<t.length;o+=1){const u=Pe(s,t,o);l[o]?(l[o].p(u,n),g(l[o],1)):(l[o]=Be(u),l[o].c(),g(l[o],1),l[o].m(e.parentNode,e))}for(X(),o=t.length;o<l.length;o+=1)r(o);G()}},i(s){if(!a){for(let n=0;n<t.length;n+=1)g(l[n]);a=!0}},o(s){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)k(l[n]);a=!1},d(s){s&&_(e),Fe(l,s)}}}function dt(i){let e,a,t,l,r,s;return t=new qe({props:{class:"m-2"}}),{c(){e=J("a"),a=J("div"),N(t.$$.fragment),l=A(`
										add`),this.h()},l(n){e=L(n,"A",{href:!0});var o=P(e);a=L(o,"DIV",{class:!0});var u=P(a);D(t.$$.fragment,u),l=I(u,`
										add`),u.forEach(_),o.forEach(_),this.h()},h(){h(a,"class","flex flex-row items-center"),h(e,"href",r=ae+"/add?type="+i[28].name+"&apiPostPath="+btoa(i[28].entitySubPath))},m(n,o){w(n,e,o),y(e,a),B(t,a,null),y(a,l),s=!0},p(n,o){(!s||o[0]&64&&r!==(r=ae+"/add?type="+n[28].name+"&apiPostPath="+btoa(n[28].entitySubPath)))&&h(e,"href",r)},i(n){s||(g(t.$$.fragment,n),s=!0)},o(n){k(t.$$.fragment,n),s=!1},d(n){n&&_(e),z(t)}}}function De(i){let e,a;return e=new Ze({props:{dataRaw:i[28].data,type:i[28].name,entity:i[28]}}),e.$on("refresh",i[25]),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){B(e,t,l),a=!0},p(t,l){const r={};l[0]&64&&(r.dataRaw=t[28].data),l[0]&64&&(r.type=t[28].name),l[0]&64&&(r.entity=t[28]),e.$set(r)},i(t){a||(g(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){z(e,t)}}}function Be(i){let e,a,t,l,r,s;function n(){return i[24](i[28])}t=new ee({props:{color:"alternative",$$slots:{default:[dt]},$$scope:{ctx:i}}}),t.$on("click",n);let o=i[28].data&&i[28].data.length>0&&De(i);return{c(){e=J("div"),a=J("div"),N(t.$$.fragment),l=F(),o&&o.c(),r=C(),this.h()},l(u){e=L(u,"DIV",{class:!0});var f=P(e);a=L(f,"DIV",{class:!0});var m=P(a);D(t.$$.fragment,m),m.forEach(_),f.forEach(_),l=M(u),o&&o.l(u),r=C(),this.h()},h(){h(a,"class","flex flex-row h-8"),h(e,"class","flex flex-row m-4 h-8 items-center")},m(u,f){w(u,e,f),y(e,a),B(t,a,null),w(u,l,f),o&&o.m(u,f),w(u,r,f),s=!0},p(u,f){i=u;const m={};f[0]&64|f[1]&1&&(m.$$scope={dirty:f,ctx:i}),t.$set(m),i[28].data&&i[28].data.length>0?o?(o.p(i,f),f[0]&64&&g(o,1)):(o=De(i),o.c(),g(o,1),o.m(r.parentNode,r)):o&&(X(),k(o,1,1,()=>{o=null}),G())},i(u){s||(g(t.$$.fragment,u),g(o),s=!0)},o(u){k(t.$$.fragment,u),k(o),s=!1},d(u){u&&(_(e),_(l),_(r)),z(t),o&&o.d(u)}}}function mt(i){let e,a,t,l,r,s,n,o,u,f,m,d;t=new ee({props:{class:"mr-2",$$slots:{default:[at]},$$scope:{ctx:i}}}),t.$on("click",i[15]),r=new ee({props:{class:"h-8 p-2 mr-2",title:"delete",color:"alternative",$$slots:{default:[it]},$$scope:{ctx:i}}}),r.$on("click",i[16]),n=new ee({props:{color:"alternative",class:"mr-2",$$slots:{default:[nt]},$$scope:{ctx:i}}}),n.$on("click",i[17]);let c=i[3]&&Oe(i);const $=[ct,ut],O=[];function H(b,v){return b[0]?0:1}return f=H(i),m=O[f]=$[f](i),{c(){e=J("div"),a=J("div"),N(t.$$.fragment),l=F(),N(r.$$.fragment),s=F(),N(n.$$.fragment),o=F(),c&&c.c(),u=F(),m.c(),this.h()},l(b){e=L(b,"DIV",{class:!0});var v=P(e);a=L(v,"DIV",{class:!0});var S=P(a);D(t.$$.fragment,S),l=M(S),D(r.$$.fragment,S),s=M(S),D(n.$$.fragment,S),o=M(S),c&&c.l(S),S.forEach(_),u=M(v),m.l(v),v.forEach(_),this.h()},h(){h(a,"class","flex flex-row m-4 h-8"),h(e,"class","mb-2")},m(b,v){w(b,e,v),y(e,a),B(t,a,null),y(a,l),B(r,a,null),y(a,s),B(n,a,null),y(a,o),c&&c.m(a,null),y(e,u),O[f].m(e,null),d=!0},p(b,v){const S={};v[1]&1&&(S.$$scope={dirty:v,ctx:b}),t.$set(S);const Q={};v[1]&1&&(Q.$$scope={dirty:v,ctx:b}),r.$set(Q);const Y={};v[1]&1&&(Y.$$scope={dirty:v,ctx:b}),n.$set(Y),b[3]?c?(c.p(b,v),v[0]&8&&g(c,1)):(c=Oe(b),c.c(),g(c,1),c.m(a,null)):c&&(X(),k(c,1,1,()=>{c=null}),G());let U=f;f=H(b),f===U?O[f].p(b,v):(X(),k(O[U],1,1,()=>{O[U]=null}),G(),m=O[f],m?m.p(b,v):(m=O[f]=$[f](b),m.c()),g(m,1),m.m(e,null))},i(b){d||(g(t.$$.fragment,b),g(r.$$.fragment,b),g(n.$$.fragment,b),g(c),g(m),d=!0)},o(b){k(t.$$.fragment,b),k(r.$$.fragment,b),k(n.$$.fragment,b),k(c),k(m),d=!1},d(b){b&&_(e),z(t),z(r),z(n),c&&c.d(),O[f].d()}}}function _t(i,e,a){let t;Ie(i,Ue,E=>a(14,t=E));let{data:l={}}=e,r="",s="",n=!1,o,u,f,m,d=!1;Re(()=>{d=!0,c()});async function c(){var R;if(!d)return;a(0,l=void 0);const E=new URLSearchParams(window.location.search);a(5,u=E.get("type")??"none"),a(4,o=E.get("id")??"none");{a(0,l=void 0);const te=await(await le()).findRecord(u,o);a(0,l=te.data),a(0,l=Ye(l,xe)),a(2,s=JSON.stringify(l,void 0,2)),a(1,r=s),f=ve.find(T=>T.name==u),a(6,m=ve.filter(T=>{var q;return(q=f==null?void 0:f.subEntities)==null?void 0:q.includes(T.name)}).map(T=>({...T,entitySubPath:`${u}/${o}/${T.name}`})));for(const T of m){const q=await(await le()).findAll(T.name,{},`/${u}/${o}`);if(!q.ok){x({message:`failed to load ${T.name}`});continue}T.data=(R=q.data)==null?void 0:R.data,a(6,m)}}S()}async function $(E,R,te){if(!confirm(`Please confirm deletion of '${te}'`))return;const q=await(await le()).deleteRecord(E,R);q.ok?(x({message:"ok",type:"info"}),ke(`${ae}/entities?type=${u}`)):x({message:`failed to delete. ${q.err}`})}function O(){let E;try{E=JSON.parse(s)}catch(R){x({message:`Failed to parse JSON. ${R.message}`});return}a(2,s=JSON.stringify(E,void 0,2)),x({message:"ok",type:"info"})}async function H(){if(confirm("confirm save?")){O();try{const R=await(await le()).updateRecord(u,o,JSON.parse(s));a(3,n=!n),a(3,n),a(0,l=JSON.parse(s)),a(1,r=s)}catch(R){const te=R.response.data;x({message:te.message})}}}let b,v;async function S(){a(2,s=s.replace(/\t/g,"  ")),v&&(a(8,v.textContent=s,v),globalThis.Prism.highlightElement(v))}const Q=()=>{a(3,n=!n)},Y=async()=>await $(u,o,l.name??l.id),U=()=>{Xe(r)},oe=async()=>await H();function fe(E){pe[E?"unshift":"push"](()=>{v=E,a(8,v)})}function ue(E){pe[E?"unshift":"push"](()=>{b=E,a(7,b)})}function p(){s=this.value,a(2,s)}const Le=()=>{S()},Te=()=>{c()},We=E=>{ke(`${ae}/add?type=${E.name}&apiPostPath=${btoa(E.entitySubPath)}`)},je=async()=>await c();return i.$$set=E=>{"data"in E&&a(0,l=E.data)},i.$$.update=()=>{i.$$.dirty[0]&16384&&c()},[l,r,s,n,o,u,m,b,v,c,$,O,H,S,t,Q,Y,U,oe,fe,ue,p,Le,Te,We,je]}class ht extends de{constructor(e){super(),me(this,e,_t,mt,ce,{data:0},null,[-1,-1])}}function pt(i){let e,a;return e=new ht({}),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){B(e,t,l),a=!0},p:j,i(t){a||(g(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){z(e,t)}}}class Bt extends de{constructor(e){super(),me(this,e,null,pt,ce,{})}}export{Bt as component};
