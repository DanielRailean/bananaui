import{s as g,k as b,o as d}from"../chunks/scheduler.BSW9XCdM.js";import{S as k,i as S}from"../chunks/index.C72GILm6.js";import{u}from"../chunks/stores.DGqwERWd.js";import{g as e,b as l}from"../chunks/entry.C0gRSQna.js";import{p as m}from"../chunks/stores.CaDnKSQu.js";function $(o,s,p){let t;b(o,m,a=>p(1,t=a));let n=!1;return m.subscribe(a=>{if(!n)return;const r=new URLSearchParams(window.location.search),i=r.get("id_token"),c=r.get("state");if(i)if(u.set(i),setTimeout(async()=>{u.set(void 0),e(`${l}/login`)},59*60*1e3),c){const f=atob(c);e(f)}else e(`${l}/`)}),d(()=>{n=!0,t.url.toString().includes("callback#")&&e(t.url.toString().replace("#","?"))}),[]}class x extends k{constructor(s){super(),S(this,s,$,null,g,{})}}export{x as component};
