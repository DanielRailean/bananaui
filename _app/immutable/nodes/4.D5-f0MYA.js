import{s as J,a as P,e as L,t as T,l as U,m as K,f as _,g as S,c as M,b as H,d as V,p as E,i as w,h as b,j as W,k as Q,o as X,q as Y,n as I}from"../chunks/scheduler.Bq1aPRZr.js";import{S as Z,i as x,c as q,a as z,m as B,b as C,e as ee,t as A,d as N,g as te}from"../chunks/index.dYeTvltd.js";import{C as ae,A as se}from"../chunks/ArrayWrap.BZhpqfcp.js";import{g as ne}from"../chunks/entry.CAsWKPi7.js";import{B as re}from"../chunks/Button.LL1zcB_i.js";import{a as le}from"../chunks/stores.CJOv96xK.js";import{s as G,k as j}from"../chunks/config.CwKg5LUm.js";import{a as oe}from"../chunks/requests.Cweu3if8.js";import{p as ie}from"../chunks/stores.D01QEGNt.js";import{c as D}from"../chunks/util.jCAmLx4X.js";function ce(l){let e,n,s,t,r,o;return s=new ae({props:{class:"m-2"}}),{c(){e=L("a"),n=L("div"),q(s.$$.fragment),t=T(`
				add`),this.h()},l(i){e=M(i,"A",{href:!0});var c=H(e);n=M(c,"DIV",{class:!0});var h=H(n);z(s.$$.fragment,h),t=V(h,`
				add`),h.forEach(_),c.forEach(_),this.h()},h(){E(n,"class","flex flex-row items-center"),E(e,"href",r="/add?type="+l[1])},m(i,c){w(i,e,c),b(e,n),B(s,n,null),b(n,t),o=!0},p(i,c){(!o||c&2&&r!==(r="/add?type="+i[1]))&&E(e,"href",r)},i(i){o||(A(s.$$.fragment,i),o=!0)},o(i){C(s.$$.fragment,i),o=!1},d(i){i&&_(e),N(s)}}}function fe(l){let e,n='<h2 class="text-xl text-center mb-10">No entries</h2>';return{c(){e=L("div"),e.innerHTML=n,this.h()},l(s){e=M(s,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1ktrhtt"&&(e.innerHTML=n),this.h()},h(){E(e,"class","flex w-full justify-center items-center")},m(s,t){w(s,e,t)},p:I,i:I,o:I,d(s){s&&_(e)}}}function me(l){var s;let e,n;return e=new se({props:{displayedFields:(s=j.find(l[6]))==null?void 0:s.displayedFields,data:l[0],type:l[1],entity:l[2]}}),e.$on("refresh",l[7]),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){B(e,t,r),n=!0},p(t,r){var i;const o={};r&2&&(o.displayedFields=(i=j.find(t[6]))==null?void 0:i.displayedFields),r&1&&(o.data=t[0]),r&2&&(o.type=t[1]),r&4&&(o.entity=t[2]),e.$set(o)},i(t){n||(A(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function ue(l){let e,n,s,t,r=(l[0]?l[0].length:0)+"",o,i,c=D(l[1])+"",h,F,p,m,u,d,k,v;document.title=e=G.name+" - "+D(l[1]),p=new re({props:{class:"h-8 w-20 border-slate-300",color:"alternative",$$slots:{default:[ce]},$$scope:{ctx:l}}}),p.$on("click",l[5]);const O=[me,fe],$=[];function R(a,f){return a[0]&&a[0].length>0?0:1}return u=R(l),d=$[u]=O[u](l),{c(){n=P(),s=L("div"),t=L("h1"),o=T(r),i=P(),h=T(c),F=P(),q(p.$$.fragment),m=P(),d.c(),k=U(),this.h()},l(a){K("svelte-f4u3pm",document.head).forEach(_),n=S(a),s=M(a,"DIV",{class:!0});var y=H(s);t=M(y,"H1",{class:!0});var g=H(t);o=V(g,r),i=S(g),h=V(g,c),g.forEach(_),F=S(y),z(p.$$.fragment,y),y.forEach(_),m=S(a),d.l(a),k=U(),this.h()},h(){E(t,"class","text-xl mb-3 ml-1 dark:text-zinc-300"),E(s,"class","flex flex-col mx-4 mt-4")},m(a,f){w(a,n,f),w(a,s,f),b(s,t),b(t,o),b(t,i),b(t,h),b(s,F),B(p,s,null),w(a,m,f),$[u].m(a,f),w(a,k,f),v=!0},p(a,[f]){(!v||f&2)&&e!==(e=G.name+" - "+D(a[1]))&&(document.title=e),(!v||f&1)&&r!==(r=(a[0]?a[0].length:0)+"")&&W(o,r),(!v||f&2)&&c!==(c=D(a[1])+"")&&W(h,c);const y={};f&514&&(y.$$scope={dirty:f,ctx:a}),p.$set(y);let g=u;u=R(a),u===g?$[u].p(a,f):(te(),C($[g],1,1,()=>{$[g]=null}),ee(),d=$[u],d?d.p(a,f):(d=$[u]=O[u](a),d.c()),A(d,1),d.m(k.parentNode,k))},i(a){v||(A(p.$$.fragment,a),A(d),v=!0)},o(a){C(p.$$.fragment,a),C(d),v=!1},d(a){a&&(_(n),_(s),_(m),_(k)),N(p),$[u].d(a)}}}function de(l,e,n){let s;Q(l,ie,m=>n(4,s=m));let t,r,o,i=!1;X(()=>{i=!0,c()});async function c(){if(i){n(0,t=void 0),n(1,r=new URLSearchParams(window.location.search).get("type")??"none");try{if(n(2,o=j.find(u=>u.name==r)),!o)return;const m=await(await oe()).findAll(o.apiPath,{});n(0,t=m.data.data)}catch(m){console.log(m),le({message:`Failed fetching the ${r}. ${m.message?m.message:""}`})}}}const h=()=>{ne(`/add?type=${r}`)},F=m=>m.name==r,p=async()=>await c();return l.$$.update=()=>{l.$$.dirty&16&&c()},[t,r,o,c,s,h,F,p]}class Ee extends Z{constructor(e){super(),x(this,e,de,ue,J,{})}}export{Ee as component};
