import{s as Ae,v as U,i as M,n as ve,f as v,w as be,x as je,y as te,z as pe,A as T,J,K as V,b as y,l as h,L as le,h as b,u as S,r as Be,t as I,d as R,j as Y,a as Q,e as j,M as We,g as G,c as W,q as ke,k as Ie,o as Re}from"../chunks/scheduler.JoI2qTf6.js";import{S as Ne,i as Oe,c as ne,a as ue,m as fe,t as X,b as Z,e as Ue,d as de,g as Je}from"../chunks/index.n1M6Kr9c.js";import{s as we,k as Ve,p as Ee}from"../chunks/config.Dmd9iIHM.js";import{C as qe,A as Fe}from"../chunks/ArrayWrap.DyCeplDY.js";import{g as Te,c as ee,d as ye}from"../chunks/util.BWOeR5ma.js";import{t as ie}from"../chunks/bundle-mjs.D696Ktp4.js";import{b as he,g as He}from"../chunks/entry.Cz0haAYs.js";import{D as oe,t as Le,a as Ke,i as Qe}from"../chunks/stores.CYcGuEJh.js";import{a as Ce}from"../chunks/requests.BeJmK2TD.js";import{p as Ge}from"../chunks/stores.DDsKqIHJ.js";function Xe(t){let e,s,i,r,l,a=t[4].id&&t[4].title&&Se(t),g=t[6].id&&t[6].desc&&Pe(t),m=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:t[2]},t[11],{class:r=ie("shrink-0",t[9][t[0]??"md"],t[12].class)},{role:t[1]},{"aria-label":t[7]},{"aria-describedby":l=t[8]?t[10]:void 0},{viewBox:"0 0 24 24"}],d={};for(let o=0;o<m.length;o+=1)d=te(d,m[o]);return{c(){e=J("svg"),a&&a.c(),s=U(),g&&g.c(),i=J("path"),this.h()},l(o){e=V(o,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var u=y(e);a&&a.l(u),s=U(),g&&g.l(u),i=V(u,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(i).forEach(v),u.forEach(v),this.h()},h(){h(i,"stroke","currentColor"),h(i,"stroke-linecap","round"),h(i,"stroke-linejoin","round"),h(i,"stroke-width",t[5]),h(i,"d","M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"),le(e,d)},m(o,u){M(o,e,u),a&&a.m(e,null),b(e,s),g&&g.m(e,null),b(e,i)},p(o,u){o[4].id&&o[4].title?a?a.p(o,u):(a=Se(o),a.c(),a.m(e,s)):a&&(a.d(1),a=null),o[6].id&&o[6].desc?g?g.p(o,u):(g=Pe(o),g.c(),g.m(e,i)):g&&(g.d(1),g=null),u&32&&h(i,"stroke-width",o[5]),le(e,d=Te(m,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},u&4&&{color:o[2]},u&2048&&o[11],u&4097&&r!==(r=ie("shrink-0",o[9][o[0]??"md"],o[12].class))&&{class:r},u&2&&{role:o[1]},u&128&&{"aria-label":o[7]},u&256&&l!==(l=o[8]?o[10]:void 0)&&{"aria-describedby":l},{viewBox:"0 0 24 24"}]))},d(o){o&&v(e),a&&a.d(),g&&g.d()}}}function Ye(t){let e,s,i,r,l,a,g,m=t[4].id&&t[4].title&&ze(t),d=t[6].id&&t[6].desc&&De(t),o=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},{color:t[2]},t[11],{class:r=ie("shrink-0",t[9][t[0]??"md"],t[12].class)},{role:t[1]},{"aria-label":t[7]},{"aria-describedby":l=t[8]?t[10]:void 0},{viewBox:"0 0 24 24"}],u={};for(let n=0;n<o.length;n+=1)u=te(u,o[n]);return{c(){e=J("svg"),m&&m.c(),s=U(),d&&d.c(),i=J("path"),this.h()},l(n){e=V(n,"svg",{xmlns:!0,fill:!0,color:!0,class:!0,role:!0,"aria-label":!0,"aria-describedby":!0,viewBox:!0});var c=y(e);m&&m.l(c),s=U(),d&&d.l(c),i=V(c,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(i).forEach(v),c.forEach(v),this.h()},h(){h(i,"stroke","currentColor"),h(i,"stroke-linecap","round"),h(i,"stroke-linejoin","round"),h(i,"stroke-width",t[5]),h(i,"d","M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"),le(e,u)},m(n,c){M(n,e,c),m&&m.m(e,null),b(e,s),d&&d.m(e,null),b(e,i),a||(g=[S(e,"click",t[13]),S(e,"keydown",t[14]),S(e,"keyup",t[15]),S(e,"focus",t[16]),S(e,"blur",t[17]),S(e,"mouseenter",t[18]),S(e,"mouseleave",t[19]),S(e,"mouseover",t[20]),S(e,"mouseout",t[21])],a=!0)},p(n,c){n[4].id&&n[4].title?m?m.p(n,c):(m=ze(n),m.c(),m.m(e,s)):m&&(m.d(1),m=null),n[6].id&&n[6].desc?d?d.p(n,c):(d=De(n),d.c(),d.m(e,i)):d&&(d.d(1),d=null),c&32&&h(i,"stroke-width",n[5]),le(e,u=Te(o,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},c&4&&{color:n[2]},c&2048&&n[11],c&4097&&r!==(r=ie("shrink-0",n[9][n[0]??"md"],n[12].class))&&{class:r},c&2&&{role:n[1]},c&128&&{"aria-label":n[7]},c&256&&l!==(l=n[8]?n[10]:void 0)&&{"aria-describedby":l},{viewBox:"0 0 24 24"}]))},d(n){n&&v(e),m&&m.d(),d&&d.d(),a=!1,Be(g)}}}function Se(t){let e,s=t[4].title+"",i,r;return{c(){e=J("title"),i=I(s),this.h()},l(l){e=V(l,"title",{id:!0});var a=y(e);i=R(a,s),a.forEach(v),this.h()},h(){h(e,"id",r=t[4].id)},m(l,a){M(l,e,a),b(e,i)},p(l,a){a&16&&s!==(s=l[4].title+"")&&Y(i,s),a&16&&r!==(r=l[4].id)&&h(e,"id",r)},d(l){l&&v(e)}}}function Pe(t){let e,s=t[6].desc+"",i,r;return{c(){e=J("desc"),i=I(s),this.h()},l(l){e=V(l,"desc",{id:!0});var a=y(e);i=R(a,s),a.forEach(v),this.h()},h(){h(e,"id",r=t[6].id)},m(l,a){M(l,e,a),b(e,i)},p(l,a){a&64&&s!==(s=l[6].desc+"")&&Y(i,s),a&64&&r!==(r=l[6].id)&&h(e,"id",r)},d(l){l&&v(e)}}}function ze(t){let e,s=t[4].title+"",i,r;return{c(){e=J("title"),i=I(s),this.h()},l(l){e=V(l,"title",{id:!0});var a=y(e);i=R(a,s),a.forEach(v),this.h()},h(){h(e,"id",r=t[4].id)},m(l,a){M(l,e,a),b(e,i)},p(l,a){a&16&&s!==(s=l[4].title+"")&&Y(i,s),a&16&&r!==(r=l[4].id)&&h(e,"id",r)},d(l){l&&v(e)}}}function De(t){let e,s=t[6].desc+"",i,r;return{c(){e=J("desc"),i=I(s),this.h()},l(l){e=V(l,"desc",{id:!0});var a=y(e);i=R(a,s),a.forEach(v),this.h()},h(){h(e,"id",r=t[6].id)},m(l,a){M(l,e,a),b(e,i)},p(l,a){a&64&&s!==(s=l[6].desc+"")&&Y(i,s),a&64&&r!==(r=l[6].id)&&h(e,"id",r)},d(l){l&&v(e)}}}function Ze(t){let e;function s(l,a){return l[3]?Ye:Xe}let i=s(t),r=i(t);return{c(){r.c(),e=U()},l(l){r.l(l),e=U()},m(l,a){r.m(l,a),M(l,e,a)},p(l,[a]){i===(i=s(l))&&r?r.p(l,a):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:ve,o:ve,d(l){l&&v(e),r.d(l)}}}function xe(t,e,s){const i=["size","role","color","withEvents","title","strokeWidth","desc","ariaLabel"];let r=be(e,i);const l=je("iconCtx")??{},a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:g=l.size||"md"}=e,{role:m=l.role||"img"}=e,{color:d=l.color||"currentColor"}=e,{withEvents:o=l.withEvents||!1}=e,{title:u={}}=e,{strokeWidth:n=l.strokeWidth||"2"}=e,{desc:c={}}=e,q=`${u.id||""} ${c.id||""}`,N=!1,{ariaLabel:C="refresh outline"}=e;function P(f){T.call(this,t,f)}function z(f){T.call(this,t,f)}function p(f){T.call(this,t,f)}function D(f){T.call(this,t,f)}function A(f){T.call(this,t,f)}function w(f){T.call(this,t,f)}function B(f){T.call(this,t,f)}function E(f){T.call(this,t,f)}function F(f){T.call(this,t,f)}return t.$$set=f=>{s(12,e=te(te({},e),pe(f))),s(11,r=be(e,i)),"size"in f&&s(0,g=f.size),"role"in f&&s(1,m=f.role),"color"in f&&s(2,d=f.color),"withEvents"in f&&s(3,o=f.withEvents),"title"in f&&s(4,u=f.title),"strokeWidth"in f&&s(5,n=f.strokeWidth),"desc"in f&&s(6,c=f.desc),"ariaLabel"in f&&s(7,C=f.ariaLabel)},t.$$.update=()=>{t.$$.dirty&80&&(u.id||c.id?s(8,N=!0):s(8,N=!1))},e=pe(e),[g,m,d,o,u,n,c,C,N,a,q,r,e,P,z,p,D,A,w,B,E,F]}class $e extends Ne{constructor(e){super(),Oe(this,e,xe,Ze,Ae,{size:0,role:1,color:2,withEvents:3,title:4,strokeWidth:5,desc:6,ariaLabel:7})}}function Me(t){let e,s;return e=new Fe({props:{data:t[4],type:t[1],entity:t[2]}}),e.$on("refresh",t[13]),{c(){ne(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,r){fe(e,i,r),s=!0},p(i,r){const l={};r&16&&(l.data=i[4]),r&2&&(l.type=i[1]),r&4&&(l.entity=i[2]),e.$set(l)},i(i){s||(X(e.$$.fragment,i),s=!0)},o(i){Z(e.$$.fragment,i),s=!1},d(i){de(e,i)}}}function et(t){let e,s,i,r,l=(t[4]?t[4].length:"Loading")+"",a,g,m=ee(t[1])+"",d,o,u,n,c,q,N,C,P,z,p,D,A,w,B,E,F,f,H,O,se,ce;document.title=e=we.name+" - "+ee(t[1]),c=new $e({}),p=new qe({props:{class:"mr-1"}});let k=t[4]&&t[4].length>0&&Me(t);return{c(){s=Q(),i=j("div"),r=j("h1"),a=I(l),g=Q(),d=I(m),o=Q(),u=j("div"),n=j("button"),ne(c.$$.fragment),q=I(`
			Refresh`),N=Q(),C=j("button"),P=j("a"),z=j("div"),ne(p.$$.fragment),D=I(`
					Add`),w=Q(),B=j("div"),E=j("input"),f=Q(),k&&k.c(),H=U(),this.h()},l(_){We("svelte-f4u3pm",document.head).forEach(v),s=G(_),i=W(_,"DIV",{class:!0});var K=y(i);r=W(K,"H1",{class:!0});var x=y(r);a=R(x,l),g=G(x),d=R(x,m),x.forEach(v),o=G(K),u=W(K,"DIV",{class:!0});var $=y(u);n=W($,"BUTTON",{color:!0,class:!0});var ae=y(n);ue(c.$$.fragment,ae),q=R(ae,`
			Refresh`),ae.forEach(v),N=G($),C=W($,"BUTTON",{class:!0,color:!0});var me=y(C);P=W(me,"A",{href:!0});var _e=y(P);z=W(_e,"DIV",{class:!0});var re=y(z);ue(p.$$.fragment,re),D=R(re,`
					Add`),re.forEach(v),_e.forEach(v),me.forEach(v),$.forEach(v),w=G(K),B=W(K,"DIV",{class:!0});var ge=y(B);E=W(ge,"INPUT",{class:!0,type:!0,title:!0,placeholder:!0}),ge.forEach(v),K.forEach(v),f=G(_),k&&k.l(_),H=U(),this.h()},h(){h(r,"class","text-xl mb-3 ml-1 dark:text-zinc-300"),h(n,"color","alternative"),h(n,"class","flex flex-row mr-2 text-emerald-600 items-center"),h(z,"class","flex flex-row items-center space-x-1"),h(P,"href",A=he+"/add?type="+t[1]),h(C,"class","flex flex-row mr-2 text-blue-700 items-center"),h(C,"color","alternative"),h(u,"class","flex flex-row mb-2 h-10"),h(E,"class","bg-transparent rounded-lg border-none outline-none focus:[box-shadow:none] ml-[-8px]"),h(E,"type","text"),E.disabled=F=!(t[0]&&t[0].length>0),h(E,"title","Seaches the JSON representation for the given text. \r \rLogical 'AND' is supported using the '&&' operator.\rEx: 'host && /path'"),h(E,"placeholder","search (hover for info)"),h(B,"class","w-20 mb-2"),h(i,"class","flex flex-col mx-4 mt-4")},m(_,L){M(_,s,L),M(_,i,L),b(i,r),b(r,a),b(r,g),b(r,d),b(i,o),b(i,u),b(u,n),fe(c,n,null),b(n,q),b(u,N),b(u,C),b(C,P),b(P,z),fe(p,z,null),b(z,D),b(i,w),b(i,B),b(B,E),ke(E,t[3]),M(_,f,L),k&&k.m(_,L),M(_,H,L),O=!0,se||(ce=[S(n,"click",t[9]),S(C,"click",t[10]),S(E,"input",t[11]),S(E,"input",t[12])],se=!0)},p(_,[L]){(!O||L&2)&&e!==(e=we.name+" - "+ee(_[1]))&&(document.title=e),(!O||L&16)&&l!==(l=(_[4]?_[4].length:"Loading")+"")&&Y(a,l),(!O||L&2)&&m!==(m=ee(_[1])+"")&&Y(d,m),(!O||L&2&&A!==(A=he+"/add?type="+_[1]))&&h(P,"href",A),(!O||L&1&&F!==(F=!(_[0]&&_[0].length>0)))&&(E.disabled=F),L&8&&E.value!==_[3]&&ke(E,_[3]),_[4]&&_[4].length>0?k?(k.p(_,L),L&16&&X(k,1)):(k=Me(_),k.c(),X(k,1),k.m(H.parentNode,H)):k&&(Je(),Z(k,1,1,()=>{k=null}),Ue())},i(_){O||(X(c.$$.fragment,_),X(p.$$.fragment,_),X(k),O=!0)},o(_){Z(c.$$.fragment,_),Z(p.$$.fragment,_),Z(k),O=!1},d(_){_&&(v(s),v(i),v(f),v(H)),de(c),de(p),k&&k.d(_),se=!1,Be(ce)}}}function tt(t,e,s){let i;Ie(t,Ge,p=>s(8,i=p));let r,l,a,g=!1;Re(()=>{g=!0,u()});let m,d="",o;async function u(){if(!g)return;s(0,r=void 0);const p=new URLSearchParams(window.location.search);m=oe.now();const D=l;s(1,l=p.get("type")??"none"),D!=l&&s(4,o=void 0),s(3,d=p.get("search")??"");try{if(s(2,a=Ve.find(B=>B.name==l)),!a)return;let w=await(await Ce()).findAll(a.apiPath,{});s(0,r=w.data.data),c();var A=m;for(await ye(Ee);w.data.next&&(w=await(await Ce()).request(w.data.next??"",void 0,void 0),A==m);)w.ok&&(s(0,r=r.concat(w.data.data)),c(),Le.set(oe.now())),await ye(Ee)}catch(w){console.log(w),Ke({message:`Failed fetching the ${l}. ${w.message?w.message:""}`})}}function n(){const p=new URL(window.location.toString());d.length>0?p.searchParams.set("search",d):p.searchParams.delete("search"),history.pushState(null,"",p)}function c(){d.length==0&&s(4,o=r);const p=d.split(/\s*&&\s*/);p.length>1?s(4,o=r.filter(D=>{for(const A of p)if(!JSON.stringify(Object.values(D)).toLowerCase().includes(A.toLowerCase()))return!1;return!0})):s(4,o=r.filter(D=>JSON.stringify(Object.values(D)).toLowerCase().includes(d.toLowerCase()))),Le.set(oe.now())}const q=()=>{u(),Qe("refreshed!")},N=()=>{He(`${he}/add?type=${l}`)};function C(){d=this.value,s(3,d)}const P=()=>{n(),c()},z=async()=>await u();return t.$$.update=()=>{t.$$.dirty&256&&u()},[r,l,a,d,o,u,n,c,i,q,N,C,P,z]}class ht extends Ne{constructor(e){super(),Oe(this,e,tt,et,Ae,{})}}export{ht as component};
