import{s as p,k as c,o as i}from"../chunks/scheduler.6nu6UWhu.js";import{S as u,i as f,d as _,t as l,a as g,m as k,c as d,b as T}from"../chunks/index.BnPEp8V3.js";import{T as b}from"../chunks/treeWrapper.ChBrPsrt.js";import{u as x,D as m}from"../chunks/stores.BC_YTqeD.js";import{a as L}from"../chunks/util.D4fi-qvy.js";function S(s){let o,n;return o=new b({props:{data:s[0],expandLevel:0}}),{c(){T(o.$$.fragment)},l(e){d(o.$$.fragment,e)},m(e,t){k(o,e,t),n=!0},p(e,[t]){const r={};t&1&&(r.data=e[0]),o.$set(r)},i(e){n||(g(o.$$.fragment,e),n=!0)},o(e){l(o.$$.fragment,e),n=!1},d(e){_(o,e)}}}function w(s,o,n){let e;c(s,x,r=>n(1,e=r));let t={username:"",email:"",token:""};return i(()=>{n(0,t.token=e,t);const r=e==null?void 0:e.token.split(".");if(!r){L({message:"no token!"});return}const a=JSON.parse(atob(r[1]));n(0,t.token_body=a,t),n(0,t.expires_at=m.fromMillis(a.exp*1e3).toLocaleString(m.DATETIME_FULL),t),n(0,t.username=a.name,t),n(0,t.email=a.unique_name,t)}),[t]}class E extends u{constructor(o){super(),f(this,o,w,S,p,{})}}export{E as component};
