import{s as K,a as P,e as L,t as T,l as W,m as Q,f as _,g as S,c as M,b as H,d as V,p as E,i as w,h as y,j as G,k as X,o as Y,q as Z,n as I}from"../chunks/scheduler.BQDiRXjc.js";import{S as x,i as ee,c as z,a as B,m as N,b as C,e as te,t as A,d as O,g as ae}from"../chunks/index.B1KEy29g.js";import{C as se,A as ne}from"../chunks/ArrayWrap.BvLO5xsX.js";import{b as j,g as re}from"../chunks/entry.DiKLPHNf.js";import{B as le}from"../chunks/Button.DwvgVUeI.js";import{a as oe}from"../chunks/stores.DxlP-Spi.js";import{s as J,k as q}from"../chunks/config.CwKg5LUm.js";import{a as ie}from"../chunks/requests.CShbIQya.js";import{p as ce}from"../chunks/stores.DJqkyTo4.js";import{c as D}from"../chunks/util.cKKlGT0C.js";function fe(l){let e,n,s,t,r,o;return s=new se({props:{class:"m-2"}}),{c(){e=L("a"),n=L("div"),z(s.$$.fragment),t=T(`
				add`),this.h()},l(i){e=M(i,"A",{href:!0});var c=H(e);n=M(c,"DIV",{class:!0});var h=H(n);B(s.$$.fragment,h),t=V(h,`
				add`),h.forEach(_),c.forEach(_),this.h()},h(){E(n,"class","flex flex-row items-center"),E(e,"href",r=j+"/add?type="+l[1])},m(i,c){w(i,e,c),y(e,n),N(s,n,null),y(n,t),o=!0},p(i,c){(!o||c&2&&r!==(r=j+"/add?type="+i[1]))&&E(e,"href",r)},i(i){o||(A(s.$$.fragment,i),o=!0)},o(i){C(s.$$.fragment,i),o=!1},d(i){i&&_(e),O(s)}}}function me(l){let e,n='<h2 class="text-xl text-center mb-10">No entries</h2>';return{c(){e=L("div"),e.innerHTML=n,this.h()},l(s){e=M(s,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1ktrhtt"&&(e.innerHTML=n),this.h()},h(){E(e,"class","flex w-full justify-center items-center")},m(s,t){w(s,e,t)},p:I,i:I,o:I,d(s){s&&_(e)}}}function ue(l){var s;let e,n;return e=new ne({props:{displayedFields:(s=q.find(l[6]))==null?void 0:s.displayedFields,data:l[0],type:l[1],entity:l[2]}}),e.$on("refresh",l[7]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,r){N(e,t,r),n=!0},p(t,r){var i;const o={};r&2&&(o.displayedFields=(i=q.find(t[6]))==null?void 0:i.displayedFields),r&1&&(o.data=t[0]),r&2&&(o.type=t[1]),r&4&&(o.entity=t[2]),e.$set(o)},i(t){n||(A(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function de(l){let e,n,s,t,r=(l[0]?l[0].length:0)+"",o,i,c=D(l[1])+"",h,F,p,m,u,d,k,v;document.title=e=J.name+" - "+D(l[1]),p=new le({props:{class:"h-8 w-20 border-slate-300",color:"alternative",$$slots:{default:[fe]},$$scope:{ctx:l}}}),p.$on("click",l[5]);const R=[ue,me],$=[];function U(a,f){return a[0]&&a[0].length>0?0:1}return u=U(l),d=$[u]=R[u](l),{c(){n=P(),s=L("div"),t=L("h1"),o=T(r),i=P(),h=T(c),F=P(),z(p.$$.fragment),m=P(),d.c(),k=W(),this.h()},l(a){Q("svelte-f4u3pm",document.head).forEach(_),n=S(a),s=M(a,"DIV",{class:!0});var b=H(s);t=M(b,"H1",{class:!0});var g=H(t);o=V(g,r),i=S(g),h=V(g,c),g.forEach(_),F=S(b),B(p.$$.fragment,b),b.forEach(_),m=S(a),d.l(a),k=W(),this.h()},h(){E(t,"class","text-xl mb-3 ml-1 dark:text-zinc-300"),E(s,"class","flex flex-col mx-4 mt-4")},m(a,f){w(a,n,f),w(a,s,f),y(s,t),y(t,o),y(t,i),y(t,h),y(s,F),N(p,s,null),w(a,m,f),$[u].m(a,f),w(a,k,f),v=!0},p(a,[f]){(!v||f&2)&&e!==(e=J.name+" - "+D(a[1]))&&(document.title=e),(!v||f&1)&&r!==(r=(a[0]?a[0].length:0)+"")&&G(o,r),(!v||f&2)&&c!==(c=D(a[1])+"")&&G(h,c);const b={};f&514&&(b.$$scope={dirty:f,ctx:a}),p.$set(b);let g=u;u=U(a),u===g?$[u].p(a,f):(ae(),C($[g],1,1,()=>{$[g]=null}),te(),d=$[u],d?d.p(a,f):(d=$[u]=R[u](a),d.c()),A(d,1),d.m(k.parentNode,k))},i(a){v||(A(p.$$.fragment,a),A(d),v=!0)},o(a){C(p.$$.fragment,a),C(d),v=!1},d(a){a&&(_(n),_(s),_(m),_(k)),O(p),$[u].d(a)}}}function pe(l,e,n){let s;X(l,ce,m=>n(4,s=m));let t,r,o,i=!1;Y(()=>{i=!0,c()});async function c(){if(i){n(0,t=void 0),n(1,r=new URLSearchParams(window.location.search).get("type")??"none");try{if(n(2,o=q.find(u=>u.name==r)),!o)return;const m=await(await ie()).findAll(o.apiPath,{});n(0,t=m.data.data)}catch(m){console.log(m),oe({message:`Failed fetching the ${r}. ${m.message?m.message:""}`})}}}const h=()=>{re(`${j}/add?type=${r}`)},F=m=>m.name==r,p=async()=>await c();return l.$$.update=()=>{l.$$.dirty&16&&c()},[t,r,o,c,s,h,F,p]}class Fe extends x{constructor(e){super(),ee(this,e,pe,de,K,{})}}export{Fe as component};
